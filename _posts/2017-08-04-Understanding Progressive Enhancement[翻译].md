---
title: Understanding Progressive Enhancement[翻译]
date: 2017-08-04
---

自从1994年，Web开发社区就敲响了[优雅降级(graceful degradation)](http://en.wikipedia.org/wiki/Graceful_degradation)的鼓声。这是一个来自工程世界的概念，它的核心是关于给最新最强大的浏览器全方位式套餐体验，同时给那些很不幸还在试用Netscape 4的人一些残羹剩饭。这当然可以工作，但这很显然未被了Tim Berners-Lee关于构建一个普遍可访问网络的初衷。

约10年后，几个聪明的家伙开始质疑优雅降级的做法，并且发现它在多个层面都有缺失。考虑到内容的可用性，整体可访问性，以及手机浏览器的功能，它们寻找到一个新的web开发的途径 - 这个方法聚焦到内容上，对旧设备的服务不仅仅停留在只说不做上。

在2003年的SXSW上，Steve Champeon 和 Nick Finck 发表了一个题名为[Inclusive Web Design For the Future](http://www.hesketh.com/thought-leadership/our-publications/inclusive-web-design-future)的演讲。在哪里，他们为这种新的web开发方法规划了蓝图。Steve为这个方法起名为[渐进增强(progressive enhancement)](http://en.wikipedia.org/wiki/Progressive_enhancement)。

### 一个微妙的差异

为了防止你绞尽脑汁想要理解优雅降级和渐进增强的区别，我首先在此澄清：这只是一个视角的问题。优雅降级和渐进增强二者都考虑的是一个网站如何在不同设备下的不同浏览器工作良好。关键是它们的关注点在哪里以及是如何影响工作流程的。

**优雅降级的视角**

优雅降级关注与为最高级的能力最强的浏览器构建网站。通常在开发周期的最后一步会在被认为是“老旧的”或能力不强的浏览器进行测试，并且通常限定在主浏览器的前一个发布版本（比如，IE，Mozilla等）。

在这个模式下，就的浏览器的体验会比较糟糕。可以用小的补丁来适配特定的浏览器。但因为它们不是主角，除了修复多数严重的错误后，基本不会关注它们。

**渐进增强的视角**

渐进增强关注内容本身。注意这个区别：我甚至都没提浏览器。

内容时我们最开始创建网站的原因。一些网站传播它，一些收集它，一些操作它，一些甚至会做以上所有的，但它们都需要它。这使得渐进增强成为更合适的范例的原因。这也是雅虎迅速吸收它，并使用它创建了它们的[浏览器分级策略](https://github.com/yui/yui3/wiki/Graded-Browser-Support)。

### 它是怎么工作的？

进入渐进增强的思维很简单：只要从内容触发即可。内容构建了一个坚固的基础，你所有的风格个交互都是基于它的。如果你是糖果米，你可以把这想象成一颗花生巧克力。

![work](/img/2017-08-04-m-m.jpg)

以花生为开端，将其标记为含义丰富的(X)HTML。用一层富有的，奶油色的CSS覆盖它。最后JavaScript最为硬糖外壳，制作成一个美味可口的桥可以（防止它在你手上融化掉）。

如果你熟悉web标准的行动口号 - 分离，分离，分离 - 这就更好理解了。基于标准的Web开发常常被比作是一层蛋糕（或者，如果你想要更形象的类别，那可以看做是一个乳脂松糕）。

我更喜欢花生巧克力的类比，因为在里面，外层完全包裹了内容，更像我们的样式和脚本封装了我们的内容。

如果你对我这种食物的类比更感兴趣点（我希望我不会让你感到饥饿），我将揭示为什么这种方式更好，以及这些层次在这种规范内是如何相互交互的。

### 花生

有些人喜欢花生；事实上，一些人相比花生巧克力来说更喜欢花生。同样的，一些人（或者想搜索引擎爬虫这种东西）想要的仅仅是内容。

然后有些人无法消化花生上面的桥合理和糖果层（比如，糖尿病人）。像他们一样，在移动设备或老式浏览器上可能无法看到你漂亮的设计或与你流畅的Ajax驱动的界面交互。

确保你的标签最大程度的传递了它所包裹内容的细节，对于这些用户来说提供一个基本的体验至关重要。

### 巧克力图层

接下来，你可以小心翼翼的把你的内容浸入到温暖美味的CSS里面 - 但是在你包裹坚硬的糖果壳之前，还需要一些额外的考虑。

有些用户喜欢巧克力花生。这些人就像中间层用户一样，它们只在一定程度上支持CSS，但可能没有像样的JavaScript支持。或者它们可能工作在一个IT安全人员比较担心JavaScript的公司。对于它们，全局都可能禁掉了JavaScript。

无论是吃巧克力丰富的花生，还是吃基本没有巧克力的花生，这些人都应该被满足。有几条渐进增强的方法将你的样式用于内容，这将是本系列第二篇文章的主题。

### 坚硬的糖果层

最后，你在之前的混合体重引入JavaScript。由于他提供了丰富的交互性，以及他对内容和变现层的操作和交互，JavaScript实际上是将一个站点组成，带入“体验”的关键要素。

我不清楚如何将硬糖果层添加到花生巧克力上（我猜会是另一种浸入操作），但是当你考虑使用渐进增强的方法时，向你的网站添加基于JavaScript的功能和交互就是一件轻而易举的事情。就像花生巧克力有许多可选颜色一样，JavaScript体验可能会因为浏览器或使用设备功能的不同而不同。

正如你可能已经知道的，这种类型的开发叫做无侵入式JavaScript。我会在本系列第三篇也是最后一篇文章中讲解这些技术和实践。

### 总结

一旦你理解了渐进增强的概念并开始付诸实践时，你会发现它实际上很简单；可能比制作糖果更简单。接下来本系列的两篇文章会帮助你磨炼渐进增强的技能，不向你展示如何将理念转换为代码。



