<!doctype html>




<html class="theme-next muse" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>






<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.1" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />





  <link rel="alternate" href="/atom.xml" title="monjer's note" type="application/atom+xml" />




  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.1" />






<meta property="og:type" content="website">
<meta property="og:title" content="monjer&#39;s note">
<meta property="og:url" content="http://monjer.github.io/page/7/index.html">
<meta property="og:site_name" content="monjer&#39;s note">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="monjer&#39;s note">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    sidebar: {"position":"left","display":"post","offset":12,"offset_float":0,"b2t":false,"scrollpercent":false},
    fancybox: true,
    motion: false,
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://monjer.github.io/page/7/"/>





  <title>monjer's note</title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  





  <script type="text/javascript">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?2b4f08dbd457a5e207bff33f77b0eafc";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>











  
  
    
  

  <div class="container sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">monjer's note</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://monjer.github.io/2015/07/13/使用yui-compressor/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="monjer">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="monjer's note">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2015/07/13/使用yui-compressor/" itemprop="url">使用yui_compressor</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2015-07-13T00:00:00+08:00">
                2015-07-13
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2015/07/13/使用yui-compressor/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2015/07/13/使用yui-compressor/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="是什么"><a href="#是什么" class="headerlink" title="是什么"></a>是什么</h3><p>YUI Compressor，是出自Yahoo的js和css的代码压缩器。</p>
<h3 id="干什么"><a href="#干什么" class="headerlink" title="干什么"></a>干什么</h3><p>YUI Compressor能够移除js代码中的注释，空白符，并且能够使用最短变量名，对js中的局部变量进行安全的混淆操作。与此同时，YUI Compressor也能够安全的压缩CSS文件，压缩的类型取决于传入的文件的扩展名类型。</p>
<h3 id="为什么"><a href="#为什么" class="headerlink" title="为什么"></a>为什么</h3><p>依据Yahoo性能测试，超过40%-60%的用户在浏览Yahoo站点时，他们的浏览器cache都是用的，20%的用户的所有PV都是在无cache状态下进行的。基于这个事实，如何保证web页面足够轻量显得尤为重要。更好的web页面设计和web application的设计无论何时都是节省资源的首要选择的策略。除此之外，许多可用的能够提要性能的二级策略也是能够达到不错的效果的，因此YUI Compressor的作用就是通过压缩代码，来保证资源足够的轻量级，节省足够的代码，以达到更好的性能要求。</p>
<h3 id="工作和使用方式"><a href="#工作和使用方式" class="headerlink" title="工作和使用方式"></a>工作和使用方式</h3><p>YUI Compressor是使用java语言编写的，因此具有良好的跨平台性，对于js文件来说，它首先分析源文件的代码结构，之后会移除空白符，注释，并使用诸如单个字符命名的变量来混淆所有局部变量,已达到压缩的目的。此外,对于CSS，其压缩算法会使用一系列的正则表达式来压缩CSS源文件。</p>
<p>YUI Compressor可以使用命令行方式运行，也可以结构一些诸如Ant的构建工具使用，首先需要先<a href="https://github.com/yui/yuicompressor/releases" target="_blank" rel="external">下载YUI Compressor</a>的jar文件，当前版本为2.4.8，文件名为<code>yuicompressor-2.4.8.jar</code>，</p>
<p>可以以下面的文件结构为例来说明其使用方法：</p>
<pre><code>app-&gt;
    js-&gt;
        jquery.js
        common.js
        main.js
    css-&gt;
        reset.css
        main.css            
    yuicompressor-2.4.8.jar
</code></pre><p>打开客户端命令行工具，本机 MAC OS,切换到app的目录下,以下操作命令都在app目录下操作</p>
<h4 id="单文件压缩"><a href="#单文件压缩" class="headerlink" title="单文件压缩"></a>单文件压缩</h4><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ java -jar yuicompressor-2.4.8.jar --type js ./js/jquery.js -o jquery.min.js</div></pre></td></tr></table></figure>
<p>这会在<em>app/js</em>下生成<em>jquery.min.js</em>文件。<code>--type</code>选项，说明了带压缩文件的类型，<code>js</code>指明要压缩JavaScript文件，<code>css</code>指明要压缩css文件，省略<code>--type</code>的会根据输入文件的扩展名(.js或.css)来选择压缩方式；<code>./js/jquery.js</code>指定了输入的js源文件；<code>-o</code>选项说明了输出压缩文件的名称。可以省略<code>--type</code>,等价于
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ java -jar yuicompressor-2.4.8.jar ./js/jquery.js -o jquery.min.js</div></pre></td></tr></table></figure></p>
<p>基于以上命令行格式，压缩<em>reset.css</em>如下
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ java -jar yuicompressor-2.4.8.jar ./css/reset.css -o reset.mini.css</div></pre></td></tr></table></figure></p>
<p>会在<em>app/css</em>生成<em>reset.mini.css</em>文件</p>
<h4 id="多文件压缩"><a href="#多文件压缩" class="headerlink" title="多文件压缩"></a>多文件压缩</h4><p>单个文件一个个压缩比较繁琐，可以选择使用多文件压缩一次搞定，这需要<code>-o</code>选项指定一定格式。批量压缩js文件
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ java -jar yuicompressor-2.4.8.jar ./js/*.js -o <span class="string">'.js$:.min.js'</span></div></pre></td></tr></table></figure></p>
<p>会将<em>app/js</em>目录下所有<code>name.js</code>文件生成<code>name.min.js</code>。批量压缩css文件
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ java -jar yuicompressor-2.4.8.jar ./css/*.css -o <span class="string">'.css$:-min.css'</span></div></pre></td></tr></table></figure></p>
<p>会将<em>app/css</em>目录下所有<code>name.css</code>文件生成<code>name.min.css</code>。</p>
<p>其中<code>name</code>代替的是文件的名称，<code>&#39;.js$:.mini.js&#39;</code>,<code>&#39;.css$:.mini.css&#39;</code>均为输出压缩文件的文件名格式。</p>
<p>多文件压缩只给定了重命名的语法规则，但不支持目录级别的重写，实际使用的时候，我们需要将所有生成的<code>*.min.js</code>文件分别移到新的目录下面，也可以使用以下命令行来完成此操作，比如要将所有压缩后的js文件和css文件，分别移到<em>app/dist/js</em>,<em>app/dist/css</em>目录下</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">$ mkdir -p dist/js dist/css</div><div class="line">$ mv js/*.min.js dist/js</div><div class="line">$ mv js/*.min.css dist/css</div></pre></td></tr></table></figure>
<h4 id="结合使用Ant压缩"><a href="#结合使用Ant压缩" class="headerlink" title="结合使用Ant压缩"></a>结合使用Ant压缩</h4><p>在<em>app</em>目录下新建文件<em>build.xml</em>脚本,并写入<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div></pre></td><td class="code"><pre><div class="line">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</div><div class="line"><span class="tag">&lt;<span class="name">project</span> <span class="attr">name</span>=<span class="string">"Compress"</span> <span class="attr">default</span>=<span class="string">"compress"</span>&gt;</span></div><div class="line">	</div><div class="line">	<span class="comment">&lt;!--清空操作--&gt;</span>			</div><div class="line">	<span class="tag">&lt;<span class="name">target</span> <span class="attr">name</span>=<span class="string">"cleanup"</span>&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">delete</span> <span class="attr">dir</span>=<span class="string">"dist"</span>/&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">mkdir</span> <span class="attr">dir</span>=<span class="string">"dist/js"</span>/&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">mkdir</span> <span class="attr">dir</span>=<span class="string">"dist/css"</span>/&gt;</span></div><div class="line">	<span class="tag">&lt;/<span class="name">target</span>&gt;</span></div><div class="line">	<span class="comment">&lt;!--压缩所有css目录下的css文件，输出到dist/css目录下--&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">target</span> <span class="attr">name</span>=<span class="string">"compress.css"</span>&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">apply</span> <span class="attr">executable</span>=<span class="string">"java"</span> <span class="attr">parallel</span>=<span class="string">"false"</span> <span class="attr">failonerror</span>=<span class="string">"true"</span> <span class="attr">dest</span>=<span class="string">"dist/css"</span> <span class="attr">verbose</span>=<span class="string">"yes"</span>&gt;</span></div><div class="line">		    <span class="tag">&lt;<span class="name">fileset</span> <span class="attr">dir</span>=<span class="string">"css"</span>&gt;</span></div><div class="line">    			<span class="tag">&lt;<span class="name">include</span>  <span class="attr">name</span>=<span class="string">"**/*.css"</span> /&gt;</span></div><div class="line">			<span class="tag">&lt;/<span class="name">fileset</span>&gt;</span>  </div><div class="line">	        <span class="tag">&lt;<span class="name">arg</span> <span class="attr">line</span>=<span class="string">"-jar"</span> /&gt;</span>  </div><div class="line">    	    <span class="tag">&lt;<span class="name">arg</span> <span class="attr">path</span>=<span class="string">"yuicompressor-2.4.8.jar"</span> /&gt;</span></div><div class="line">	    	<span class="tag">&lt;<span class="name">srcfile</span> /&gt;</span>  </div><div class="line">    	    <span class="tag">&lt;<span class="name">arg</span> <span class="attr">line</span>=<span class="string">"-o"</span> /&gt;</span>  </div><div class="line">        	<span class="tag">&lt;<span class="name">mapper</span> <span class="attr">type</span>=<span class="string">"glob"</span> <span class="attr">from</span>=<span class="string">"*.css"</span> <span class="attr">to</span>=<span class="string">"*.min.css"</span> /&gt;</span></div><div class="line">    	    <span class="tag">&lt;<span class="name">targetfile</span> /&gt;</span>  </div><div class="line">	    <span class="tag">&lt;/<span class="name">apply</span>&gt;</span></div><div class="line">	<span class="tag">&lt;/<span class="name">target</span>&gt;</span></div><div class="line">	<span class="comment">&lt;!--压缩所有js目录下的js文件，输出到dist/js目录下--&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">target</span> <span class="attr">name</span>=<span class="string">"compress.js"</span>&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">apply</span> <span class="attr">executable</span>=<span class="string">"java"</span> <span class="attr">parallel</span>=<span class="string">"false"</span> <span class="attr">failonerror</span>=<span class="string">"true"</span> <span class="attr">dest</span>=<span class="string">"dist/js"</span> <span class="attr">verbose</span>=<span class="string">"yes"</span>&gt;</span></div><div class="line">		    <span class="tag">&lt;<span class="name">fileset</span> <span class="attr">dir</span>=<span class="string">"js"</span>&gt;</span></div><div class="line">    			<span class="tag">&lt;<span class="name">include</span>  <span class="attr">name</span>=<span class="string">"**/*.js"</span> /&gt;</span></div><div class="line">        	<span class="tag">&lt;/<span class="name">fileset</span>&gt;</span>  </div><div class="line">	        <span class="tag">&lt;<span class="name">arg</span> <span class="attr">line</span>=<span class="string">"-jar"</span> /&gt;</span>  </div><div class="line">    	    <span class="tag">&lt;<span class="name">arg</span> <span class="attr">path</span>=<span class="string">"yuicompressor-2.4.8.jar"</span> /&gt;</span></div><div class="line">	    	<span class="tag">&lt;<span class="name">srcfile</span> /&gt;</span>  </div><div class="line">    	    <span class="tag">&lt;<span class="name">arg</span> <span class="attr">line</span>=<span class="string">"-o"</span> /&gt;</span></div><div class="line">        	<span class="tag">&lt;<span class="name">mapper</span> <span class="attr">type</span>=<span class="string">"glob"</span> <span class="attr">from</span>=<span class="string">"*.js"</span> <span class="attr">to</span>=<span class="string">"*.min.js"</span> /&gt;</span></div><div class="line">    	    <span class="tag">&lt;<span class="name">targetfile</span> /&gt;</span>  </div><div class="line">	    <span class="tag">&lt;/<span class="name">apply</span>&gt;</span></div><div class="line">	<span class="tag">&lt;/<span class="name">target</span>&gt;</span></div><div class="line">	<span class="comment">&lt;!--main target 脚本运行主task--&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">target</span> <span class="attr">name</span>=<span class="string">"compress"</span>&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">antcall</span> <span class="attr">target</span>=<span class="string">"cleanup"</span>/&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">antcall</span> <span class="attr">target</span>=<span class="string">"compress.css"</span>/&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">antcall</span> <span class="attr">target</span>=<span class="string">"compress.js"</span>/&gt;</span></div><div class="line">	<span class="tag">&lt;/<span class="name">target</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">project</span>&gt;</span></div></pre></td></tr></table></figure>
执行
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ ant</div></pre></td></tr></table></figure></p>
<p>脚本首先会在<em>app</em>目录下创建目录<em>dist/css</em>和<em>dist/js</em>目录，之后会将压缩后的js和css文件分别写入到两个目录下</p>
<pre><code>app-&gt;
    dist-&gt;
        js-&gt;
            jquery.min.js
            common.min.js
            main.min.js
        css-&gt;
            reset.min.css
            main.min.css
</code></pre><h3 id="其它选项说明"><a href="#其它选项说明" class="headerlink" title="其它选项说明"></a>其它选项说明</h3><p>关于yuicompressor.jar的说明，可以使用
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ java -jar yuicompressor-2.4.8.jar --help</div></pre></td></tr></table></figure></p>
<p>查看，通用选项</p>
<pre><code>--charset 以指定编码格式读入文件
-v 显示压缩信息和警告
</code></pre><p>JavaScript特殊选项</p>
<pre><code>--nomunge 只压缩，不混淆
--preserve-semi 保留所有分号
--disable-optimizations 禁用所有优化
</code></pre><h3 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h3><ul>
<li><a href="http://yui.github.io/yuicompressor/" target="_blank" rel="external">YUI Compressor document</a></li>
<li><a href="http://yuiblog.com/blog/2006/03/06/minification-v-obfuscation/" target="_blank" rel="external">Minification v Obfuscation</a></li>
<li><a href="http://ant.apache.org/manual/index.html" target="_blank" rel="external">Apache ant</a>                </li>
<li><a href="http://stackoverflow.com/questions/9852814/command-line-options-for-yui-compressor/9853192#9853192" target="_blank" rel="external">Command Line Options For YUI Compressor</a></li>
</ul>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://monjer.github.io/2015/06/29/Google-Closure-Complier简介和概念/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="monjer">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="monjer's note">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2015/06/29/Google-Closure-Complier简介和概念/" itemprop="url">Google Closure Complier简介和概念</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2015-06-29T00:00:00+08:00">
                2015-06-29
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2015/06/29/Google-Closure-Complier简介和概念/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2015/06/29/Google-Closure-Complier简介和概念/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h3><p>Closure complier是一个使得javascript下载运行更加迅速
的工具。它是一个真正的javascript的编译器。与将源语言编译为机器码不同的是，它将javascript编译为更好的javascript。它会解析并分析你的javascript代码，删除僵尸代码，之后会重写并压缩剩余代码部分。它也会检测代码语法，变量引用，类型，并针对javascript常见的陷阱给出提示。</p>
<h3 id="使用方式"><a href="#使用方式" class="headerlink" title="使用方式"></a>使用方式</h3><p>可以以以下三种方式使用Closure compiler</p>
<ol>
<li>以命令行方式运行的java应用程序，参见<a href="https://developers.google.com/closure/compiler/docs/gettingstarted_app" target="_blank" rel="external">Getting Started with the Closure Compiler Application</a></li>
<li>以线上Web服务方式使用,参见<a href="https://developers.google.com/closure/compiler/docs/gettingstarted_ui" target="_blank" rel="external">Getting Started with the UI</a></li>
<li>以RESTful API方式使用,参见<a href="https://developers.google.com/closure/compiler/docs/gettingstarted_api" target="_blank" rel="external">Closure Compiler Service API</a></li>
</ol>
<h3 id="优势"><a href="#优势" class="headerlink" title="优势"></a>优势</h3><p>使用Closure compiler获益如下</p>
<ul>
<li><strong>高效</strong>。Closure complier会压缩javascript文件的大小，使其更加高效，会提升你的应用程序加载速度，节省带宽。</li>
<li><strong>代码检测</strong>。对于非法的javascript代码或存在潜在危险的操作，Closure compiler会给出警告，帮助你生成bug更少的javascript，使其更易维护。</li>
</ul>
<h3 id="3个压缩级别说明"><a href="#3个压缩级别说明" class="headerlink" title="3个压缩级别说明"></a>3个压缩级别说明</h3><p>closure complier提供三个级别的编译压缩,由低到高分别是：</p>
<ol>
<li><p><strong>WHITESPACE_ONLY</strong>
 依次删除代码注释，换行，非必要空格，不相干的标点符号，以及其它空白符。输出后的js与源js基本相等，属于最低级别压缩。</p>
</li>
<li><p><strong>SIMPLE_OPTIMIZATIONS</strong>
 除了执行<strong>WHITESPACE_ONLY</strong>压缩级别的内容外，还会针对表达式和函数进行优化，包括缩短局部变量和函数参数的名称。由于只针对函数局部变量进行重命名，该级别压缩不考虑与其它编译的js模块或其它js代码的交互部分。属于中级压缩，同时也是colsure complier的默认编译级别。</p>
</li>
<li><p><strong>ADVANCED_OPTIMIZATIONS</strong>
 除了执行<strong>SIMPLE_OPTIMIZATIONS</strong>级别的编译压缩外，会增加更多侵入式的全局变换，以达到最高级别的压缩。该级别对js的压缩极大的超越了其它的压缩工具。该级别的压缩基于对js代码的一些假设(规则)，只有这些假设(规则)成立时，输出的js代码才能正常运行，否则的话，输出的代码将无法正常工作。因此在使用该级别压缩时，我们必须熟知所有这些假设或者说是规则。
 具体说来，该级别的压缩所完成的转换包括：</p>
<ol>
<li><p><strong>更加侵入式的重命名</strong>，除了包含<strong>SIMPLE_OPTIMIZATIONS</strong>级别的压缩只重命名函数参数和变量名，<strong>ADVANCED_OPTIMIZATIONS</strong>同时会对全局变量，函数名以及属性进行重命名。</p>
</li>
<li><p><strong>删除僵尸代码</strong>，<strong>ADVANCED_OPTIMIZATIONS</strong>会删除所有程序运行时使用不到的代码。对于使用大型库时，这是非常有用的，如果你的代码仅使用了大型库文件的几个函数，编译器会删除所有其他未使用的代码。</p>
</li>
<li><p><strong>全局内联化(global inlining)</strong>,<strong>ADVANCED_OPTIMIZATIONS</strong>选项会将函数调用替换为执行函数体代码。这种转换称为内联化(inlining).编译器只会在安全并节省空间的前提下才会进行函数内联化。同时对于常量和一些变量，编译器也会在判断安全之后进行内联化。</p>
</li>
</ol>
</li>
</ol>
<h3 id="限制说明"><a href="#限制说明" class="headerlink" title="限制说明"></a>限制说明</h3><p>使用Closure compiler需要你的javascript代码遵循一些限制条件。压缩级别越高，对代码的限制会更严格。三个压缩级别的限制的说明：</p>
<h4 id="1-所有压缩级别的通用限制"><a href="#1-所有压缩级别的通用限制" class="headerlink" title="1.所有压缩级别的通用限制"></a>1.所有压缩级别的通用限制</h4><ul>
<li><p><strong>编译器只识别Ecmascript262</strong></p>
<p>  Ecmascript版本3是javascript1.5的基础。当人们在使用用术    语”Javascript”时，通常指的是这个版本。然而编译器也支持Ecmascript    版本5，对于Ecmascript6的支持正在开发中。编译器只支持官方语言特性。</p>
<p>  遵循合适Ecmascript语言手册的浏览器特性，能很好的使用编译器。如    ActiveX对象是使用合法的javascript语法创建的，所以创建ActiveX对象    的代码会正确的通过编译。编译器的维护者在积极的工作来支持新语言版本和特    性。使用Closure comliper的项目可以通过<code>--language_in</code>选项，指定    编译器使用的Ecmascript语言版本。</p>
</li>
<li><p><strong>编译器不会保留注释</strong></p>
<p>  所有编译级别都会删除注释，那些依赖特定注释格式来工作的代码编译后会无法    工作。</p>
<p>  例如，使用JScript的<strong>条件注释</strong>指令的代码编译后将无法运行。</p>
</li>
</ul>
<h4 id="2-SIMPLE-OPTIMIZATIONS的限制"><a href="#2-SIMPLE-OPTIMIZATIONS的限制" class="headerlink" title="2. SIMPLE_OPTIMIZATIONS的限制"></a>2. <strong>SIMPLE_OPTIMIZATIONS</strong>的限制</h4><p>避免使用以下结构或编码实践</p>
<ul>
<li><p><code>with</code></p>
<p>  编译器无法区分使用<code>with</code>命名的局部变量或属性名称。</p>
</li>
<li><p><code>eval()</code></p>
<p>  编译器对<code>eval()</code>函数的字符串参数不做任何处理，所以不会重命名参数中任    何符号。</p>
</li>
<li><p><strong>使用字符串代表函数或参数名</strong></p>
<p>  编译器会重命名函数名称和函数参数名，但对代码中通过名称指向函数或属性的    字符串均不做处理。所以在代码中不要使用字符串来代表函数或参数。如</p>
<pre><code>function myFunction(){} // 定义
window[&apos;myFunction&apos;]() // 调用
var myPro ; // 定义
window[&apos;myPro&apos;]    = &quot;proVlaue&quot;; // 调用
</code></pre><p>  编译后都会无法正常运行。</p>
</li>
</ul>
<h4 id="3-ADVANCED-OPTIMIZATIONS的限制"><a href="#3-ADVANCED-OPTIMIZATIONS的限制" class="headerlink" title="3.ADVANCED_OPTIMIZATIONS的限制"></a>3.<strong>ADVANCED_OPTIMIZATIONS</strong>的限制</h4><p><strong>ADVANCED_OPTIMIZATIONS</strong>级别的限制除了包含<strong>SIMPLE_OPTIMIZATIONS</strong>级别中的限制外，还包括</p>
<ul>
<li><p>重命名全局变量，函数和属性的含义</p>
<p>  以下是在<strong>ADVANCED_OPTIMIZATIONS</strong>中的危险操作</p>
<ul>
<li><p><strong>未定义的外部引用</strong>
  要正确的重命名全局变量，函数和属性，编译器需要在全局中知道所有这些引用。如果某些是指向外部资源的引用，需要对其进行声明，如
  程序使用到文件<code>jQuery.js</code>和<code>application.js</code>,并且<code>application.js</code>中使用jQuery来添加事件处理</p>
<pre><code>jQuery(&quot;panel&quot;).click(function(){
    ...
})
</code></pre><p>  如果只对<code>application.js</code>进行压缩，之后的结果可能变为</p>
<pre><code>a(&quot;panel&quot;).c(function(){
    ...
})
</code></pre><p>  这显示是不对的</p>
</li>
<li><p><strong>外部代码使用未导出的内部名称</strong></p>
<p>  编译后的代码需要导出所有需要在外部代码使用的符号。如<code>application.js</code>中定义了<code>boot</code>方法用于程序入口</p>
<pre><code>app.boot = function(){
    ..
}
</code></pre><p>  经编译压缩，可能会变为</p>
<pre><code>a.c = funtion(){

}
</code></pre><p>  页面<code>app.html</code>页面是程序主页，会加载编译<code>application.js</code>，并调用<code>boot</code>方法来执行</p>
<pre><code>&lt;script src=&quot;application.js&quot;&gt;
&lt;script&gt;
    app.boot();
&lt;/script&gt;
</code></pre><p>  程序将无法运行。</p>
</li>
<li><p><strong>使用字符串引用对象属性</strong></p>
<p>  在高级压缩模式下，编译器会重命名属性名称，但不会处理任何字符串，所以，假如定义以下对象及调用示例</p>
<pre><code>var    person = {name:&quot;张三&quot;,age:10}; //定义

var name = person.name ; // 正确

if(&apos;name&apos; in person){} // 错误

var name = person[&apos;name&apos;] ; // 错误
</code></pre><p>  如果需要使用字符串来引用属性，那么就一直使用字符串，始终保持一致</p>
<pre><code>var    person = {&apos;name&apos;:&quot;张三&quot;,age:10}; //定义

var name = person.name ; // 正确

if(&apos;name&apos; in person){} // 正确
</code></pre><blockquote>
<p>详情参见:<a href="https://developers.google.com/closure/compiler/docs/api-tutorial3" target="_blank" rel="external">Advanced Compilation and Externs</a></p>
</blockquote>
</li>
<li><p><strong>通过全局对象的属性引用变量</strong></p>
<p>  编译器会将属性的重命名与变量名区分开来。所以以不同的方式处理以下两个引用</p>
<pre><code>var person = {};
window.person ; //错误
</code></pre><p>  代码有可能编译为</p>
<pre><code>var a = {};
window.b ;
</code></pre><p>  正确的做法是</p>
<pre><code>window.person = {};
window.person ;
</code></pre></li>
<li><p><strong>删除僵尸代码的含义</strong>
  僵尸代码的删除会让以下实践变得危险</p>
<ul>
<li><p><strong>在编译代码之后调用函数</strong>
  当你在编译函数时，如果你得函数调用代码未一起进行编译，编译器会认为这部分函数永远不会执行，并删除它们，如<code>application.js</code>定义            了</p>
<pre><code>app.boot = function(){
    ...
}
</code></pre><p>  并在页面<code>app.html</code>页面中调用</p>
<pre><code>&lt;script src=&quot;application.js&quot;&gt;
&lt;script&gt;
    app.boot();
&lt;/script&gt;
</code></pre><p>  但，由于定义和调用<code>app.boot()</code>方法的地方不在一个地方，并且<code>index.html</code>中的js代码不会与<code>application.js</code>一起压缩所以            <code>app.boot</code>在压缩时被当做僵尸代码被删除。</p>
<p>  为了避免这种情况发生，需要</p>
<ol>
<li>将所有Web应用使用到的代码一起编译</li>
<li>或者导出编译后的函数</li>
</ol>
</li>
<li><p><strong>通过遍历构造器或原型对象来获得函数</strong></p>
<p>  要判断函数是否是僵尸代码，编译器要找到所有调用函数的地儿。通            过遍历构造器属性或原型对象属性来获取函数，并结合<code>call</code>方法            可以调用获取的函数，但编译器在这种方式下，无法判断函数是否是            僵尸代码，如</p>
<pre><code>function Person(){

}

Person.prototype.init = function(){...}
Person.prototype.sayHi = function(){...}

function invoke(person , name){
    Person.prototype[name].call(p) ;// 错误
};

invoke(new Person() , &apos;sayHi&apos;) ;
</code></pre><p>  编译器不会知道<code>sayHi</code>会被调用，所以代码运行会出错。作为函数            参数传入的函数，编译器会自动识别，如</p>
<pre><code>function invoke(fn){
    fn();
}
function sayHi(){
    alert(&apos;hi&apos;);
}

invoke(sayHi);// 正确
</code></pre></li>
</ul>
</li>
<li><p><strong>对象属性扁平化(flattening)的含义</strong></p>
<p>  高级压缩模式下，编译器会折叠对象属性以支持简写命名，如</p>
<pre><code>var person = {};

person.sayHi = function(name){alert(&apos;Hi&apos;+name);}

person.sayHi(&quot;张三&quot;)
</code></pre><p>  会编译为</p>
<pre><code>var person$sayHi = function(a){alert(&apos;Hi&apos;+a);}
person$sayHi(&apos;张三&apos;);
</code></pre><p>  对象属性的扁平化使接下来的重命名更高效，比如编译器会将<code>person$sayHi</code>简写为一个字母<code>b</code>。</p>
<p>  但属性的扁平化也会是以下操作变得危险</p>
<ul>
<li><p><strong>在构造器或原型方法之外使用<code>this</code></strong></p>
<p>  属性扁平化可能会改变函数内<code>this</code>的含义，如</p>
<pre><code>var person = {};

person.name = &apos;王五&apos;;

person.sayHi = function(name){alert(this.name + &apos;say hi to&apos;+name);}// 错误

person.sayHi(&quot;张三&quot;);
</code></pre><p>  会编译为</p>
<pre><code>var person$sayHi = function(a){alert(this.name + &apos;say hi to&apos;+name);}
person$sayHi(&apos;张三&apos;);
</code></pre><p>  这样<code>this</code>有原来引用<code>person</code>，变成了编译后的引用全局对象。编译器遇到这种情况会给出警告</p>
<blockquote>
<p>“WARNING - dangerous use of this in static method person.sayHi”</p>
</blockquote>
<p>  以上<code>sayHi</code>可以修正为</p>
<pre><code>person.sayHi = function(name){alert(person.name + &apos;say hi to&apos;+name);}// 错误
</code></pre><p>  但，为了避免这种情况的发生，只有在构造器或原型方法内才能使用<code>this</code>，如</p>
<pre><code>function Person(name){
    this.name = name;
}

Person.prototype.sayHi = function(name){
    alert(this.name + &apos;say hi to&apos;+name);
}// 正确

var person = new Person(&quot;张三&quot;) ;
person.sayHi(&quot;张三&quot;);
</code></pre></li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h3><ul>
<li><a href="https://developers.google.com/closure/compiler/docs/compilation_levels" target="_blank" rel="external">Closure Compiler Compilation Levels</a></li>
<li><a href="https://developers.google.com/closure/compiler/docs/limitations" target="_blank" rel="external">Understanding the Restrictions Imposed by the Closure Compiler</a></li>
</ul>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://monjer.github.io/2015/06/06/MySQL数据库命令行选项的使用规则/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="monjer">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="monjer's note">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2015/06/06/MySQL数据库命令行选项的使用规则/" itemprop="url">MySQL数据库命令行选项的使用规则</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2015-06-06T00:00:00+08:00">
                2015-06-06
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2015/06/06/MySQL数据库命令行选项的使用规则/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2015/06/06/MySQL数据库命令行选项的使用规则/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>安装完成的mysql数据库中包含了许多不同的客户端程序，用来操作，管理，维护mysql数据库。所有客户端程序都可以在命令行中使用，需要指定命令行选项options，它们都共享同样的命令行规则：</p>
<ol>
<li>选项options紧跟在命令行名称之后。</li>
<li>多数的命令行程序都提供一个<code>--help</code>选项，通过该选项可以了解当前客户端程序的描述。</li>
<li>一个选项参数以单个破折号<code>-</code>或双破折号<code>--</code>开始，这取决于选项名称的长短。许多选项都有一长一短两种格式，例如<code>-?</code>和<code>--help</code>分别是打印客户端辅助信息的选项。</li>
<li>选项名称大小写敏感，<code>-v</code>和<code>-V</code>都合法，但意义不同，一个代表<code>--verbose</code>选项,另一个代表<code>--version</code>选项。</li>
<li>一些选项名后面跟着的是选项值，如，<code>-h locahost</code>或者<code>--host=localhost</code>指定了客户端程序要连接服务器的地址。</li>
<li>对于长格式的选项名，后面跟着的值需要以<code>=</code>与其做分割，对于短格式选项名，后面的值可以以<code>空格</code>分割，有的也紧随选项名，图<code>-hlocalhost</code>与<code>-h localhost</code>是等价的。但在指定连接Mysql服务器密码时，需要注意可以指定<code>--password=pass_value</code>或<code>--password</code>，使用第二种格式时，客户端接下来会提示你输入密码，这些密码输入值在客户端是隐藏的。密码也可以以短格式指定，如<code>-ppass_value</code>或<code>-p</code>,如果开始给定了密码，那么密码必须紧挨着<code>-p</code>,<code>-p</code>和<code>pass_value</code>之间不能出现任何空格，举例说来， <figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">shell&gt; mysql -ptest</div></pre></td></tr></table></figure>
</li>
</ol>
<p>表明的是以密码<code>test</code>连接mysql，而
    <figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sheel&gt; mysql -p <span class="built_in">test</span></div></pre></td></tr></table></figure></p>
<p>表明的是提示输入密码，并连接test数据库，</p>
<ol>
<li>选项名中的<code>-</code>和<code>_</code>可以互换，如<code>--skip-grant-tables</code>与<code>--skip_grant_tables</code>是等价的。(开始的<code>--</code>不能换成<code>__</code>)</li>
<li><p>对于值为数值类型的选项来说，选项值可以使用后缀<strong>K</strong>,<strong>M</strong>,<strong>G</strong>（字符大小写都可以），来添加一个乘法因子1024,<span>1024<sup>2</sup></span>,<span>1024<sup>3</sup></span>，如以下命令</p>
 <figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">shell&gt; mysqladmin --count=1k --sleep=10 ping</div></pre></td></tr></table></figure>
<p> 会告知mysqladmin去ping服务器1024次，每次间隔10秒钟。</p>
</li>
<li><p>命令行中的包含空格的选项值需要用引号引起来，如mysql的<code>--execute</code>或<code>-e</code>选项可以用来向服务器发送SQL语句，使用这个选项时，SQL语句必须用引号引起来，如</p>
 <figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">shell&gt; mysql -u root <span class="_">-e</span>  <span class="string">"select user,host from mysql.user"</span></div></pre></td></tr></table></figure>
<p> 会查询mysql数据库当前的账户</p>
 <img src="/2015/06/06/MySQL数据库命令行选项的使用规则/1.png" alt="1.png" title="">
<p> 如果选项值中要用到引号值，则需要对内部用到的引号转义，或者用不同类型的引号,如</p>
 <figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">shell&gt; mysql -u root <span class="_">-e</span>  <span class="string">"select user,host from mysql.user where user='root'"</span></div></pre></td></tr></table></figure>
 <img src="/2015/06/06/MySQL数据库命令行选项的使用规则/2.png" alt="2.png" title="">
<p> 选项值中多个SQL语句可以用<code>;</code>分开</p>
 <figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">shell&gt; mysql -u root <span class="_">-e</span> <span class="string">"select version();select user()"</span></div></pre></td></tr></table></figure>
 <img src="/2015/06/06/MySQL数据库命令行选项的使用规则/3.png" alt="3.png" title="">
</li>
</ol>
<h3 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h3><ul>
<li><a href="http://dev.mysql.com/doc/refman/5.6/en/mysqladmin.html" target="_blank" rel="external">mysqladmin — Client for Administering a MySQL Server</a></li>
<li><a href="http://dev.mysql.com/doc/refman/5.6/en/command-line-options.html" target="_blank" rel="external">Using Options on the Command Line</a></li>
</ul>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://monjer.github.io/2015/05/10/javascript中的Array-like对象类型/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="monjer">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="monjer's note">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2015/05/10/javascript中的Array-like对象类型/" itemprop="url">JavaScript中的Array-like对象类型</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2015-05-10T00:00:00+08:00">
                2015-05-10
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2015/05/10/javascript中的Array-like对象类型/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2015/05/10/javascript中的Array-like对象类型/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>不管编程语言是什么，在代码时最常用的数据结构就是数组Array，用来操作有序列表，JavaScript语言也不例外，JavaScript语言中内置提供了<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array" target="_blank" rel="external">Array</a>数组类型，并提供了诸多方法来操作数组元素。其实在JavaScript中还有一种称之为<strong>Arry-like对象</strong>(类数组对象)，也是我们在代码中经常使用到的。</p>
<h3 id="特点"><a href="#特点" class="headerlink" title="特点"></a>特点</h3><p>Array-like对象其实只是一种普通的对象类型，但又和Array类型对象拥有某些相似的地方，那就是</p>
<ul>
<li>都是用来集合类型，用来保存一组元素，<strong>基本上</strong>(不是所有)都会拥有长度<code>length</code>属性，标识元素个数</li>
<li>都支持通过<strong>数字下标索引</strong>的方式来访问元素，如 <code>var element = arrayLikeObject[0];</code></li>
<li>都可以用for循环/while循环来顺序遍历元素  <figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> element = <span class="literal">null</span> ;</div><div class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span> , length = arrayLikeObject ; i &lt; length ; i++)&#123;</div><div class="line">    element =arrayLikeObject[i];</div><div class="line">    <span class="comment">// 操作element, to do</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
<p>不同的是，Array对象有诸多原生内置的方法来对元素进行操作，如<code>push</code>,<code>forEach</code>,<code>reverse</code>,<code>slice</code>,<code>split</code>,等等。但，Array-like对象并没有向那么多的方法来直接对其元素进行操作。</p>
<h3 id="Array-like类型"><a href="#Array-like类型" class="headerlink" title="Array-like类型"></a>Array-like类型</h3><p>以上说明了Array-like对象的特点，在JavaScript中有几种类型创建的对象就是Array-like对象。</p>
<ol>
<li><p><code>String</code></p>
<p> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String" target="_blank" rel="external">String</a>类型对象用来存储字符序列，如</p>
 <figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> str = <span class="string">"abcd"</span> ;</div><div class="line"><span class="built_in">console</span>.log(str.length);<span class="comment">// output: 4</span></div><div class="line"><span class="keyword">var</span> firstChar = str[<span class="number">0</span>];</div><div class="line"><span class="built_in">console</span>.log(firstChar);<span class="comment">// output : a</span></div><div class="line"><span class="comment">// output : a,b,c,d</span></div><div class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span> , length = str.length ; i &lt; length ; i++)&#123;</div><div class="line">    <span class="built_in">console</span>.log(str[i]+<span class="string">","</span>);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p><code>arguments</code></p>
<p> 对于<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions_and_function_scope/arguments" target="_blank" rel="external">arguments</a>对象，相信是所有熟悉JavaScript语言的人都知道的对象，它栖身于JavaScript函数中，代表了函数调用    时传入的所有参数的集合。<code>arguments[0]</code>代表了第一个参数，<code>arguments[1]</code>,代表了第二个参数，依次类推。</p>
 <figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">name , sex , age</span>)</span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(name == <span class="built_in">arguments</span>[<span class="number">0</span>]);</div><div class="line">    <span class="built_in">console</span>.log(sex == <span class="built_in">arguments</span>[<span class="number">1</span>]);</div><div class="line">    <span class="built_in">console</span>.log(age == <span class="built_in">arguments</span>[<span class="number">2</span>]);</div><div class="line">    <span class="built_in">console</span>.log(<span class="built_in">arguments</span>.length);</div><div class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span> , length = <span class="built_in">arguments</span>.length ; i &lt; length ; i++)&#123;</div><div class="line">        <span class="built_in">console</span>.log(<span class="built_in">arguments</span>[i]+<span class="string">","</span>);				&#125;</div><div class="line">&#125;</div><div class="line"><span class="keyword">var</span> p = <span class="keyword">new</span> Person(<span class="string">"han"</span>, <span class="string">"man"</span>, <span class="number">29</span>);</div></pre></td></tr></table></figure>
<p> 在Chrome控制台下执行结果如:</p>
 <img src="/2015/05/10/javascript中的Array-like对象类型/1.png" alt="1.png" title="">
</li>
<li><p><code>NodeList</code></p>
<p> <a href="https://developer.mozilla.org/en-US/docs/Web/API/NodeList" target="_blank" rel="external">NodeList</a>属于DOM接口，保存了一组DOM节点的集合，通过<code>node.childNodes</code>属性以及通过<code>document.querySelectortAll</code>方法返回的对象都是<code>NodeList</code>类型，示例如</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">// 以下是一组列表</div><div class="line"><span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">"nav"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>项目-1<span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>项目-2<span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>项目-3<span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>项目-3<span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></div><div class="line"></div><div class="line">// 遍历nav的所有li元素并添加红色背景</div><div class="line">var nodeList = document.querySelector(".nav li");</div><div class="line">var li = null;</div><div class="line">for(var i = 0 , length = nodeList.length ; i <span class="tag">&lt; <span class="attr">length</span> ; <span class="attr">i</span>++)&#123;</span></div><div class="line">    <span class="attr">li</span> = <span class="string">nodeList[i];</span></div><div class="line">    <span class="attr">li.style.backgroundColor</span> = <span class="string">"red"</span>;</div><div class="line">    <span class="attr">console.log</span>(<span class="attr">li.innerText</span>);</div><div class="line">&#125;</div><div class="line"><span class="attr">console.log</span>("<span class="attr">length</span> <span class="attr">:</span> "+<span class="attr">nodeList.length</span>);// <span class="attr">output:</span> <span class="attr">4</span></div></pre></td></tr></table></figure>
<p> <code>NodeList</code>类型还拥有<code>item(index)</code>方法，可以传入节点索引来访问节点对象，作用等同于<code>nodeList[index]</code>。</p>
</li>
<li><p><code>HTMLCollection</code></p>
<p> <a href="https://developer.mozilla.org/en-US/docs/Web/API/HTMLOptionsCollection" target="_blank" rel="external">HTMLCollection</a>类型与<a href="https://developer.mozilla.org/en-US/docs/Web/API/NodeList" target="_blank" rel="external">NodeList</a>类型类似，不同的是<code>HTMLCollection</code>保存的是元素(Element)集合，<code>NodeList</code>保存的节点(Node)集合,示例如</p>
 <figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">// 以下是html文本</div><div class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">id</span>=<span class="string">"des"</span>&gt;</span>代码的可维护性包括:<span class="tag">&lt;<span class="name">span</span>&gt;</span>可理解性<span class="tag">&lt;/<span class="name">span</span>&gt;</span>,<span class="tag">&lt;<span class="name">span</span>&gt;</span>直观性<span class="tag">&lt;<span class="name">span</span>&gt;</span>,<span class="tag">&lt;<span class="name">span</span>&gt;</span>可扩展性<span class="tag">&lt;/<span class="name">span</span>&gt;</span>,<span class="tag">&lt;<span class="name">span</span>&gt;</span>独立性<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line">// 将需要重点突出的点字体加粗</div><div class="line"></div><div class="line">var des = document.getElementById("des");</div><div class="line">var featureCollection = des.children;</div><div class="line">var span = nill;</div><div class="line">for(var i = 0 , length = featureCollection.length ; i <span class="tag">&lt; <span class="attr">length</span> ; <span class="attr">i</span>++)&#123;</span></div><div class="line">    <span class="attr">span</span> = <span class="string">featureCollection[i];</span></div><div class="line">    <span class="attr">span.style.fontWeight</span> = <span class="string">"bold"</span>;</div><div class="line">&#125;</div><div class="line"><span class="attr">console.log</span>("<span class="attr">length</span> <span class="attr">:</span> "+<span class="attr">featureCollection.length</span>);// <span class="attr">output:</span> <span class="attr">4</span></div></pre></td></tr></table></figure>
<p> <code>HTMLCollection</code>除了提供<code>item(index)</code>外还提供了<code>namedItem(name)</code>方法可以通过元素的<code>id</code>属性访问元素。</p>
</li>
</ol>
<h3 id="转换为Array"><a href="#转换为Array" class="headerlink" title="转换为Array"></a>转换为Array</h3><p>在编码实践中，将Array-like对象转换为真正的Array对象，然后使用Array对象提供的原生方法来处理每个元素是十分常见的操作，这省却了再重复编写相同的算法来单独处理Array-like对象的麻烦，好在JavaScript语言为Array-like对象添加一些语法糖来很方便的完成这种转换。基于JavaScript原型继承的特点，结合使用<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/slice" target="_blank" rel="external">Array.prototype.slice()</a>对象和<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/call" target="_blank" rel="external"> Function.prototype.call()</a>可以如下实现：
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">arrayLikeToArray</span>(<span class="params">arraylike</span>)</span>&#123;</div><div class="line">    <span class="keyword">var</span> array = [] ;</div><div class="line">    <span class="keyword">if</span>(!<span class="string">"length"</span> <span class="keyword">in</span> arraylike()))&#123;</div><div class="line">        <span class="keyword">return</span> array;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">try</span>&#123;</div><div class="line">        array = <span class="built_in">Array</span>.prototype.slice.call(arraylike,<span class="number">0</span>);</div><div class="line">    &#125;(e)&#123;</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span> , l = arraylike.length ; i &lt; l ; i++)&#123;</div><div class="line">            array.push(arraylike[i]);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> array ;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>因此可以转换字符串为字符数组，如
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> str = <span class="string">"abcd"</span>;</div><div class="line"><span class="keyword">var</span> arr = arrayLikeToArray(str);<span class="comment">// ['a','b','c,'d']</span></div></pre></td></tr></table></figure></p>
<p>转换<code>arguments</code>包含的所有参数对象为数组
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="keyword">var</span> paraArr = arrayLikeToArray(<span class="built_in">arguments</span>);</div><div class="line">    <span class="comment">// to do</span></div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>转换<code>HTMLCollection</code>或<code>NodeList</code>类型DOM对象结合为数组
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> nodes = arrayLikeToArray(<span class="built_in">document</span>.querySelector(<span class="string">".nav li"</span>));</div><div class="line"><span class="comment">// to do for nodes</span></div><div class="line"></div><div class="line"><span class="keyword">var</span> els = arrayLikeToArray(<span class="built_in">document</span>.getElementById(<span class="string">"des"</span>));</div><div class="line"><span class="comment">// to do for els</span></div></pre></td></tr></table></figure></p>
<p><a href="http://kangax.github.io/compat-table/es6/" target="_blank" rel="external">Ecmascript6</a>的Array类型提供内置的<a href="http://people.mozilla.org/~jorendorff/es6-draft.html#sec-array.from" target="_blank" rel="external"><code>Array.form()</code></a>方法，来将Array-like对象转换为Array对象，上述方法可以进一步完善
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">arrayLikeToArray</span>(<span class="params">arraylike</span>)</span>&#123;</div><div class="line">    <span class="keyword">var</span> array = [] ;</div><div class="line">    <span class="keyword">if</span>(!<span class="string">"length"</span> <span class="keyword">in</span> arraylike()))&#123;</div><div class="line">        <span class="keyword">return</span> array;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">if</span>(<span class="built_in">Array</span>.from)&#123;</div><div class="line">        <span class="keyword">return</span> <span class="built_in">Array</span>.from(arraylike);</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">try</span>&#123;</div><div class="line">        array = <span class="built_in">Array</span>.prototype.slice.call(arraylike,<span class="number">0</span>);</div><div class="line">    &#125;(e)&#123;</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span> , l = arraylike.length ; i &lt; l ; i++)&#123;</div><div class="line">            array.push(arraylike[i]);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> array ;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>完！</p>
<h3 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h3><ul>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array" target="_blank" rel="external">MDN Array</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/API/HTMLOptionsCollection" target="_blank" rel="external">HTMLCollection</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/API/NodeList" target="_blank" rel="external">NodeList</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions_and_function_scope/arguments" target="_blank" rel="external">arguments</a></li>
<li><a href="http://stackoverflow.com/questions/11886578/creating-array-like-objects-in-javascript" target="_blank" rel="external">Creating array-like objects in JavaScript</a></li>
<li><a href="http://nfriedly.com/techblog/2009/06/advanced-javascript-objects-arrays-and-array-like-objects/" target="_blank" rel="external">Arrays, and Array-Like objects</a></li>
<li><a href="https://shifteleven.com/articles/2007/06/28/array-like-objects-in-javascript/" target="_blank" rel="external">Array-like Objects in JavaScript</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String" target="_blank" rel="external">String</a></li>
<li><a href="http://www.hacksparrow.com/javascript-array-like-objects.html" target="_blank" rel="external">JavaScript Array-like Objects</a></li>
<li><a href="http://stackoverflow.com/questions/6599071/array-like-objects-in-javascript" target="_blank" rel="external">Array Like Objects in Javascript</a></li>
<li><a href="http://stackoverflow.com/questions/5223/length-of-a-javascript-object-that-is-associative-array?rq=1" target="_blank" rel="external">Length of a JavaScript object (that is, associative array)</a></li>
<li><a href="http://stackoverflow.com/questions/7935689/what-is-the-difference-between-children-and-childnodes-in-javascript" target="_blank" rel="external">What is the difference between children and childNodes in JavaScript?</a></li>
<li><a href="http://nfriedly.com/techblog/2009/06/advanced-javascript-objects-arrays-and-array-like-objects/" target="_blank" rel="external">Advanced Javascript: Objects, Arrays, and Array-Like objects</a></li>
<li><a href="http://www.2ality.com/2013/05/quirk-array-like-objects.html" target="_blank" rel="external">JavaScript quirk 8: array-like objects</a></li>
<li><a href="http://www.javascriptkit.com/javatutors/arrayprototypeslice.shtml" target="_blank" rel="external">Converting objects to arrays using Array.prototype.slice.call()</a></li>
<li><a href="http://www.javascriptkit.com/javatutors/arrayprototypeslice2.shtml" target="_blank" rel="external">Converting array-like objects into arrays using Array.from() method (ECMAScript 6)</a></li>
</ul>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://monjer.github.io/2015/05/08/CSS文本阴影/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="monjer">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="monjer's note">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2015/05/08/CSS文本阴影/" itemprop="url">CSS文本阴影</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2015-05-08T00:00:00+08:00">
                2015-05-08
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2015/05/08/CSS文本阴影/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2015/05/08/CSS文本阴影/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>CSS3中通过<a href="https://developer.mozilla.org/en-US/docs/Web/CSS/text-shadow" target="_blank" rel="external"><code>text-shadow</code></a>属性可以为页面文字添加阴影效果，来丰富界面展示效果。<code>text-shadow</code>适用于页面所有元素，也适用于<code>::first-letter</code>和<code>::first-line</code>伪元素；可继承；可动画。</p>
<h3 id="基本使用"><a href="#基本使用" class="headerlink" title="基本使用"></a>基本使用</h3><p>如有以下文本
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>人生得意须尽欢<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p>默认显示为</p>
<p><img src="/2015/05/08/CSS文本阴影/t1.png" style="display:block;border:1px solid #ccc;box-shadow:1px 1px solid #ccc;-webkit-box-shadow:1px 1px solid #ccc;"></p>
<p>为该文字片段添加一个浅灰色阴影,代码如
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">.lightgray-shadow&#123;</div><div class="line">    text-shadow: 2px 2px 5px #ccc;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">"lightgray-shadow"</span>&gt;</span>人生得意须尽欢<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p>效果为</p>
<p><img src="/2015/05/08/CSS文本阴影/t2.png" style="display:block;border:1px solid #ccc;box-shadow:1px 1px solid #ccc;-webkit-box-shadow:1px 1px solid #ccc;"></p>
<p>文字看起来多了一些层次感。</p>
<p>结合示例，<code>text-shadow</code>的基本语法结构如下
<figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="selector-tag">text-shaodw</span>: <span class="selector-tag">offset-x</span> <span class="selector-tag">offset-y</span> <span class="selector-tag">blur</span> <span class="selector-tag">color</span> ;</div></pre></td></tr></table></figure></p>
<p>其中<code>offset-x</code>，<code>offset-y</code>指明了阴影分别在水平和竖直方向上的偏移；<code>blur</code>和<code>color</code>分别指明了阴影的模糊度和阴影颜色。</p>
<p><code>text-shadow</code>阴影同样可以添加到文本的<code>text-decoration</code>上，如
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">p&#123;</div><div class="line">    text-decoration:underline;</div><div class="line">&#125;</div><div class="line">.red-shadow&#123;</div><div class="line">    text-shadow: 2px 2px 5px red;</div><div class="line">&#125;</div><div class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">"red-shadow"</span>&gt;</span>人生得意须尽欢<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p>效果为</p>
<p><img src="/2015/05/08/CSS文本阴影/t3.png" style="display:block;border:1px solid #ccc;box-shadow:1px 1px solid #ccc;-webkit-box-shadow:1px 1px solid #ccc;"></p>
<p>可见底部的下划线也添加上了阴影。</p>
<h3 id="多层次阴影"><a href="#多层次阴影" class="headerlink" title="多层次阴影"></a>多层次阴影</h3><p>除了最常用的基本用法，<code>text-shadow</code>还可以接受一个逗号分隔的模糊值列表来指定文本的多层次阴影。
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">p&#123;</div><div class="line">    text-decoration:underline;</div><div class="line">&#125;</div><div class="line">.multi-shadow&#123;</div><div class="line">    text-shadow: 2px 2px 3px #ccc , 2px 2px 6px red , 3px 3px 8px blue ;</div><div class="line">&#125;</div><div class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">"multi-shadow"</span>&gt;</span>人生得意须尽欢<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p>效果为</p>
<p><img src="/2015/05/08/CSS文本阴影/t4.png" style="display:block;border:1px solid #ccc;box-shadow:1px 1px solid #ccc;-webkit-box-shadow:1px 1px solid #ccc;"></p>
<p>指定多个<code>text-shadow</code>值时    ，它们会依次从前往后排列，靠前的优先显示在前面覆盖后面的值，就像堆栈结构，第一个<code>text-shadow</code>值显示在最上方，依次类推。</p>
<h3 id="阴影动画"><a href="#阴影动画" class="headerlink" title="阴影动画"></a>阴影动画</h3><p><code>text-shadow</code>也可以添加动画效果，如当鼠标移到文本上方时以动画的形式显示展示阴影：
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">p&#123;</div><div class="line">    -webkit-transition:text-shadow 0.3s;</div><div class="line">    -moz-transition:text-shadow 0.3s;</div><div class="line">    -ms-transition:text-shadow 0.3s;</div><div class="line">    transition:text-shadow 0.3s;</div><div class="line">&#125;</div><div class="line">p:hover&#123;</div><div class="line">    text-shadow: 2px 2px 5px #ccc;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">"multi-shadow"</span>&gt;</span>人生得意须尽欢<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div></pre></td></tr></table></figure></p>
<h3 id="兼容性"><a href="#兼容性" class="headerlink" title="兼容性"></a>兼容性</h3><p>基本上稍高版本的浏览器都支持该属性，并可以省略前缀。但IE在 IE10+ 才实现该属性。参见：<a href="http://caniuse.com/#search=text-shadow" target="_blank" rel="external">CanIUse text-shadow</a></p>
<blockquote>
<p>注意: <code>text-shadow</code>不会占据HTML的文档布局流。</p>
</blockquote>
<h3 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h3><ul>
<li><a href="http://quirksmode.org/css/text/" target="_blank" rel="external">Quirk Mode:Text</a></li>
<li><a href="http://caniuse.com/#search=text-shadow" target="_blank" rel="external">CanIUse text-shadow</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/text-shadow" target="_blank" rel="external">MDN text-shaodw</a></li>
<li><a href="http://www.w3.org/TR/2012/WD-css-text-decor-3-20121113/#text-shadow-property" target="_blank" rel="external">W3C Text Shadows: the ‘text-shadow’ property</a></li>
<li><a href="http://dev.w3.org/csswg/css-transitions/#animatable-css" target="_blank" rel="external">Animation Property</a></li>
</ul>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://monjer.github.io/2015/05/06/HTML5全屏模式/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="monjer">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="monjer's note">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2015/05/06/HTML5全屏模式/" itemprop="url">HTML5全屏模式</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2015-05-06T00:00:00+08:00">
                2015-05-06
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2015/05/06/HTML5全屏模式/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2015/05/06/HTML5全屏模式/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>HTML5中的<a href="http://caniuse.com/#feat=fullscreens" target="_blank" rel="external">Full Screen API</a>提供了相关的规范，允许将页面上诸如视频，图像以及其它任何页面内容以全屏模式展示。全屏模式意在提高用户体验，使得我们可以引导用户聚焦在我们希望其重点关注的内容上。</p>
<p>FullScreen规范中大致定义了三个特性</p>
<ul>
<li><p>打开，退出全屏模式，及获取当前处于全屏模式下的元素</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">element.requestFullscreen();<span class="comment">// 全屏展示元素</span></div><div class="line"><span class="built_in">document</span>.exitFullscreen();<span class="comment">// 退出全屏</span></div><div class="line"><span class="built_in">document</span>.fullscreenElement; 获取当前全屏显示的元素</div><div class="line"><span class="built_in">document</span>.fullscreenEnabled;<span class="comment">// 判断当前文档是否支持全屏显示功能</span></div></pre></td></tr></table></figure>
</li>
<li><p>全屏模式的切换事件</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">document</span>.onfullscreenchange = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="comment">// 进入全屏</span></div><div class="line">    <span class="keyword">if</span>(<span class="built_in">document</span>.fullscreenElement)&#123;</div><div class="line">    <span class="comment">// 退出全屏</span></div><div class="line">    &#125;<span class="keyword">else</span>&#123;</div><div class="line">    &#125;</div><div class="line">&#125;;</div><div class="line"><span class="comment">// 全屏切换失败</span></div><div class="line"><span class="built_in">document</span>.onfullscreenerror = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>全屏模式下的样式</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">:fullscreen伪类，定义全屏元素的样式</div></pre></td></tr></table></figure>
</li>
</ul>
<p>和多数HTML5新特性一样，多数浏览器在都以前缀形式实现了相应功能的API。</p>
<h3 id="打开全屏模式"><a href="#打开全屏模式" class="headerlink" title="打开全屏模式"></a>打开全屏模式</h3><p>在任意的DOM元素上调用<code>requestFullscreen()</code>方法都会让该元素以全屏方式显示,每次在请求元素全屏显示时，首先浏览器会以弹窗的方式来寻求用户的同意，经用户同意后方法继续全屏展示。通常进行全屏显示的元素有<em>图片</em>,<em>视频</em>等。兼容性方法
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">requestFullscreenForEl</span>(<span class="params">el</span>)</span>&#123;</div><div class="line">    <span class="keyword">var</span> methods = [</div><div class="line">        <span class="string">'requestFullscreen'</span>,</div><div class="line">        <span class="string">'webkitRequestFullscreen'</span>,</div><div class="line">        <span class="string">'webkitRequestFullScreen'</span>,</div><div class="line">        <span class="string">'msRequestFullscreen'</span>,</div><div class="line">        <span class="string">'mozRequestFullScreen'</span></div><div class="line">    ];</div><div class="line">    <span class="keyword">var</span> name = <span class="literal">false</span> ;</div><div class="line">    methods.some(<span class="function"><span class="keyword">function</span>(<span class="params">methodName</span>)</span>&#123;</div><div class="line">        <span class="keyword">if</span>(methodName <span class="keyword">in</span> el)&#123;</div><div class="line">            name = methodName;</div><div class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</div><div class="line">        &#125;</div><div class="line">    &#125;);</div><div class="line">    name &amp;&amp; el[name]();</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h3 id="全屏特性检测"><a href="#全屏特性检测" class="headerlink" title="全屏特性检测"></a>全屏特性检测</h3><p>通过之前<code>requestFullscreenForEl()</code>方法，可以得出快速检测当前浏览器是否支持Fullscreen特性的方法，
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> supportFullscreenAPI = (<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="keyword">var</span> div = <span class="built_in">document</span>.createElement(<span class="string">"div"</span>);</div><div class="line">    <span class="keyword">var</span> methods = [</div><div class="line">        <span class="string">'requestFullscreen'</span>,</div><div class="line">        <span class="string">'webkitRequestFullscreen'</span>,</div><div class="line">        <span class="string">'webkitRequestFullScreen'</span>,</div><div class="line">        <span class="string">'msRequestFullscreen'</span>,</div><div class="line">        <span class="string">'mozRequestFullScreen'</span></div><div class="line">    ];</div><div class="line">    <span class="keyword">var</span> name = <span class="literal">false</span> ;</div><div class="line">    methods.some(<span class="function"><span class="keyword">function</span>(<span class="params">methodName</span>)</span>&#123;</div><div class="line">        <span class="keyword">if</span>(methodName <span class="keyword">in</span> div)&#123;</div><div class="line">            name = methodName;</div><div class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</div><div class="line">        &#125;</div><div class="line">    &#125;);</div><div class="line">    div = <span class="literal">null</span> ;</div><div class="line">    <span class="keyword">return</span> !!name;</div><div class="line">&#125;)() ;</div></pre></td></tr></table></figure></p>
<h3 id="退出全屏模式"><a href="#退出全屏模式" class="headerlink" title="退出全屏模式"></a>退出全屏模式</h3><p>退出全屏模式需要在<code>document</code>对象上调用<code>exitFullscreen</code>方法，如下:
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">exitFullscreen</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="keyword">var</span> methods = [</div><div class="line">        <span class="string">'exitFullscreen'</span>,</div><div class="line">        <span class="string">'webkitExitFullscreen'</span>,</div><div class="line">        <span class="string">'webkitCancelFullScreen'</span>,</div><div class="line">        <span class="string">'msExitFullscreen'</span>,</div><div class="line">        <span class="string">'mozCancelFullScreen'</span></div><div class="line">    ];</div><div class="line">    methods.some(<span class="function"><span class="keyword">function</span>(<span class="params">methodName</span>)</span>&#123;</div><div class="line">        <span class="keyword">if</span>(methodName <span class="keyword">in</span> <span class="built_in">document</span>)&#123;</div><div class="line">            <span class="built_in">document</span>[methodName]();</div><div class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</div><div class="line">        &#125;</div><div class="line">    &#125;);</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h3 id="全屏模式判断"><a href="#全屏模式判断" class="headerlink" title="全屏模式判断"></a>全屏模式判断</h3><p>打开全屏模式的实现方式是在某一DOM element对象上调用<code>requestFullscreenForEl(el)</code>方法，当成功将元素置于全屏之后，<code>document.fullscreenElement</code>属性会自动保存当前处于全屏下的DOM对象的引用，如果没有任何元素处于全屏转台，那么该属性值为<code>null</code>,由此可以得出判断当前上下文，也就是页面是否处于全屏模式下的方法：
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">isInFullScreen</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="keyword">var</span> proNames = [</div><div class="line">        <span class="string">'fullscreenElement'</span>,</div><div class="line">        <span class="string">'webkitFullscreenElement'</span>,</div><div class="line">        <span class="string">'webkitCurrentFullScreenElement'</span>,</div><div class="line">        <span class="string">'msFullscreenElement'</span>,</div><div class="line">        <span class="string">'mozFullScreenElement'</span></div><div class="line">    ];</div><div class="line">    <span class="keyword">var</span> name = <span class="string">""</span>;</div><div class="line">    proNames.some(<span class="function"><span class="keyword">function</span>(<span class="params">prop</span>)</span>&#123;</div><div class="line">        <span class="keyword">if</span>(pro <span class="keyword">in</span> <span class="built_in">document</span>)&#123;</div><div class="line">            name = prop</div><div class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</div><div class="line">        &#125;</div><div class="line">    &#125;);</div><div class="line">    <span class="keyword">return</span> !!<span class="built_in">document</span>[name];</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h3 id="全屏模式切换"><a href="#全屏模式切换" class="headerlink" title="全屏模式切换"></a>全屏模式切换</h3><p>定义了打开和退出全屏模式,以及判断页面是否处于全屏模式的方法的方法，可以得到全屏切换方法的实现：
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">toggle</span>(<span class="params">el</span>)</span>&#123;</div><div class="line">    isInFullScreen()?exitFullscreen():requestFullscreenForEl();</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h3 id="全屏模式切换事件"><a href="#全屏模式切换事件" class="headerlink" title="全屏模式切换事件"></a>全屏模式切换事件</h3><p>每次全屏模式的切换都会在<code>document</code>对象上触发<code>fullscreenchange</code>事件，可以结合使用该事件和<code>isInFullScreen()</code>方法来做出相应的响应：
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">fullscreenChangeEventHandler</span>(<span class="params">callback,addOrRemove</span>)</span>&#123;</div><div class="line">    <span class="keyword">var</span> eventNames = [</div><div class="line">        <span class="string">'fullscreenchange'</span>,</div><div class="line">        <span class="string">'webkitfullscreenchange'</span>,</div><div class="line">        <span class="string">'webkitfullscreenchange'</span>,</div><div class="line">        <span class="string">'MSFullscreenChange'</span>,,</div><div class="line">        <span class="string">'mozfullscreenchange'</span></div><div class="line">    ];</div><div class="line"></div><div class="line">    eventNames.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">type</span>)</span>&#123;</div><div class="line">        <span class="keyword">if</span>(addOrRemove)&#123;</div><div class="line">            <span class="built_in">document</span>.addEventListener(type , callback , <span class="literal">false</span>);</div><div class="line">        &#125;<span class="keyword">else</span>&#123;</div><div class="line">            <span class="built_in">document</span>.removeEventListener(type , callback , <span class="literal">false</span>);</div><div class="line">        &#125;</div><div class="line">    &#125;);</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>当请求全屏切换失败时，会触发<code>fullscreenerror</code>事件
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">fullscreenErrorEventHandler</span>(<span class="params">callback,addOrRemove</span>)</span>&#123;</div><div class="line">    <span class="keyword">var</span> eventNames = [</div><div class="line">        <span class="string">'fullscreenerror'</span>,</div><div class="line">        <span class="string">'webkitfullscreenerror'</span>,</div><div class="line">        <span class="string">'MSFullscreenError'</span>,,</div><div class="line">        <span class="string">'mozfullscreenerror'</span></div><div class="line">    ];</div><div class="line"></div><div class="line">    eventNames.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">type</span>)</span>&#123;</div><div class="line">        <span class="keyword">if</span>(addOrRemove)&#123;</div><div class="line">            <span class="built_in">document</span>.addEventListener(type , callback , <span class="literal">false</span>);</div><div class="line">        &#125;<span class="keyword">else</span>&#123;</div><div class="line">            <span class="built_in">document</span>.removeEventListener(type , callback , <span class="literal">false</span>);</div><div class="line">        &#125;</div><div class="line">    &#125;);</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>在<code>callback</code>方法中可以通过<code>isInFullScreen()</code>方法来判断是否处于全屏状态
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">callback</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="comment">// 全屏中</span></div><div class="line">    <span class="keyword">if</span>(isInFullScreen())&#123;</div><div class="line"></div><div class="line">    <span class="comment">// 退出全屏</span></div><div class="line">    &#125;<span class="keyword">else</span>&#123;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h3 id="定制全屏模式下的样式"><a href="#定制全屏模式下的样式" class="headerlink" title="定制全屏模式下的样式"></a>定制全屏模式下的样式</h3><p>Fullscreen API中定义了<code>:fllscreen</code>CSS伪类来定制当前全屏展示下的元素的样式，不同浏览器在实现该伪类时不仅添加自己前缀，而且还将fullscreen以dash分割线链接，如<code>:-moz-full-screen</code>,<code>-ms-full-screen</code>,<code>-webkit-full-screen</code>，如
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">#fullScreenElement:-webkit-full-screen	&#123; ... &#125;</div><div class="line">#fullScreenElement:-moz-full-screen		&#123; ... &#125;</div><div class="line">#fullScreenElement:-ms-full-screen		&#123; ... &#125;</div><div class="line">#fullScreenElement:-o-full-screen		&#123; ... &#125;</div><div class="line">#fullScreenElement:fullscreen			&#123; ... &#125;</div></pre></td></tr></table></figure></p>
<blockquote><p>不同浏览器在默认对待全屏显示元素的样式是不一致的，Firefox下全屏元素的高宽度样式会固定在100%,webkit会以元素原尺寸居&gt; 中显示，可以添加
   <figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="selector-id">#el</span><span class="selector-pseudo">:-webkit-full-screen</span> &#123;</div><div class="line">    <span class="attribute">width</span>: <span class="number">100%</span>;</div><div class="line">      <span class="attribute">height</span>: <span class="number">100%</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
</blockquote>
<h3 id="iframe全屏"><a href="#iframe全屏" class="headerlink" title="iframe全屏"></a>iframe全屏</h3><p>如果iframe所包含页面元素想要实现全屏的话，需要在iframe标签上添加<code>allowFullscreen</code>属性(firefox下添加<code>mozallowFullscreen</code>,webkit内核添加<code>webkitallowFullscreen</code>)。</p>
<h3 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h3><ul>
<li><a href="https://msdn.microsoft.com/zh-cn/library/dn913203.aspx" target="_blank" rel="external">Internet Explorer for Windows 10 Technical Preview 全屏 API 更改</a></li>
<li><a href="https://msdn.microsoft.com/zh-cn/library/dn265028.aspx" target="_blank" rel="external">IE11 全屏 API </a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/Guide/API/DOM/Using_full_screen_mode" target="_blank" rel="external">MDN Using fullscreen mode</a></li>
<li><a href="http://www.sitepoint.com/html5-full-screen-api/" target="_blank" rel="external">How to Use the HTML5 Full-Screen API</a></li>
<li><a href="http://johndyer.name/native-fullscreen-javascript-api-plus-jquery-plugin/" target="_blank" rel="external">Native Fullscreen JavaScript API (plus jQuery plugin)</a></li>
<li><a href="http://davidwalsh.name/fullscreen" target="_blank" rel="external">Fullscreen API</a></li>
<li><a href="https://github.com/sindresorhus/screenfull.js/" target="_blank" rel="external">Github screenfull.js</a></li>
<li><a href="https://fullscreen.spec.whatwg.org/" target="_blank" rel="external">whatwg Fullscreen API</a></li>
<li><a href="http://caniuse.com/#feat=fullscreens" target="_blank" rel="external">CanIUse Full Screen API</a></li>
<li><a href="https://hacks.mozilla.org/2012/01/using-the-fullscreen-api-in-web-browsers/" target="_blank" rel="external">Using the Fullscreen API in web browsers</a></li>
<li><a href="http://www.html5rocks.com/en/mobile/fullscreen/#disqus_thread" target="_blank" rel="external">Building an amazing fullscreen mobile experience</a></li>
<li><a href="http://html5-demos.appspot.com/static/fullscreen.html" target="_blank" rel="external">Demo</a></li>
</ul>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://monjer.github.io/2015/04/21/javascript中的媒体查询/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="monjer">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="monjer's note">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2015/04/21/javascript中的媒体查询/" itemprop="url">JavaScript中的媒体查询</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2015-04-21T00:00:00+08:00">
                2015-04-21
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2015/04/21/javascript中的媒体查询/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2015/04/21/javascript中的媒体查询/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>在CSS中通过使用媒体查询，就可以动态切换不同模式下的不同样式，从而实现响应式设计。所有这些完全不依赖于任何脚本。其实在JavaScript中，提供了一些对象和事件，让我们可以监测媒体查询的变化，这样可以在脚本层面上来进一步完善响应式的效果。以下是涉及到的一些接口和对象的说明。</p>
<h3 id="window-matchMedia方法和MediaQueryList类型对象"><a href="#window-matchMedia方法和MediaQueryList类型对象" class="headerlink" title="window.matchMedia方法和MediaQueryList类型对象"></a>window.matchMedia方法和MediaQueryList类型对象</h3><p>在<code>window</code>对象上存在<code>matchMedia(mediaQueryString)</code>方法,该方法接受一个媒体查询的字符串<code>mediaQueryString</code>，创建并返回一个<code>MediaQueryList</code>,如下
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> mediaQueryList = <span class="built_in">window</span>.matchMedia(<span class="string">"(orientation: landscape)"</span>);</div></pre></td></tr></table></figure></p>
<p><code>MediaQueryList</code>类型的对象上存在一个名为<code>matches</code>的布尔类型的属性，以检测当前的文档状态是否与传入的媒体查询(<code>mediaQueryString</code>)结果相匹配,<code>true</code>代表匹配，<code>false</code>则反之，如
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> mediaQueryList = <span class="built_in">window</span>.matchMedia(<span class="string">"(orientation: landscape)"</span>);</div><div class="line"><span class="comment">// 设备是横屏状态</span></div><div class="line"><span class="keyword">if</span>(mediaQueryList.matches)&#123;</div><div class="line"></div><div class="line"><span class="comment">// 设备是竖屏状态</span></div><div class="line">&#125;<span class="keyword">else</span>&#123;</div><div class="line"></div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h3 id="响应媒体查询的变化"><a href="#响应媒体查询的变化" class="headerlink" title="响应媒体查询的变化"></a>响应媒体查询的变化</h3><p>我们不但可以知道当前媒体查询的结果，而且可以知道媒体查询何时发生变化，这是通过<code>MediaQueryList</code>类型的<code>addListener()</code>方法实现的，该方法会为媒体查询的变化添加监听函数，媒体查询的变化时会调用注册的函数,同时会传入<code>MediaQueryList</code>类型的对象来表示变化的结果，如：
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> mediaQueryList = <span class="built_in">window</span>.matchMedia(<span class="string">"(orientation: landscape)"</span>);</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">mediaQueryListListener</span>(<span class="params">mediaQList</span>)</span>&#123;</div><div class="line">    <span class="comment">// 设备是横屏状态</span></div><div class="line">    <span class="keyword">if</span>(mediaQList.matches)&#123;</div><div class="line">        <span class="built_in">console</span>.log(<span class="string">"设备转至横屏"</span>);</div><div class="line">    <span class="comment">// 设备是竖屏状态</span></div><div class="line">    &#125;<span class="keyword">else</span>&#123;</div><div class="line">        <span class="built_in">console</span>.log(<span class="string">"设备转至竖屏"</span>);</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line">mediaQueryList.addListener(mediaQueryListListener);</div></pre></td></tr></table></figure></p>
<p>为了完成初始化操作，在注册监听函数时需要添加一次调用：
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> mediaQueryList = <span class="built_in">window</span>.matchMedia(<span class="string">"(orientation: landscape)"</span>);</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">mediaQueryListListener</span>(<span class="params">mediaQList</span>)</span>&#123;</div><div class="line">    <span class="comment">// 设备是横屏状态</span></div><div class="line">    <span class="keyword">if</span>(mediaQList.matches)&#123;</div><div class="line">        <span class="built_in">console</span>.log(<span class="string">"设备转至横屏"</span>);</div><div class="line">    <span class="comment">// 设备是竖屏状态</span></div><div class="line">    &#125;<span class="keyword">else</span>&#123;</div><div class="line">        <span class="built_in">console</span>.log(<span class="string">"设备转至竖屏"</span>);</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line">mediaQueryList.addListener(mediaQueryListListener);</div><div class="line">mediaQueryListListener(mediaQueryList);<span class="comment">// 完成初始化调用</span></div></pre></td></tr></table></figure></p>
<p>如果需要取消监听函数时，我们只需要调用<code>MediaQueryList</code>类型对象的<code>removeListener()</code>方法，并传入曾经注册过的监听函数即可：
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">mediaQueryList.removeListener(mediaQueryListListener); <span class="comment">// 移除监听</span></div></pre></td></tr></table></figure></p>
<h3 id="enquire-js"><a href="#enquire-js" class="headerlink" title="enquire.js"></a>enquire.js</h3><p>关于比较便捷的监听媒体查询的结果，已有第三方库来予以支持，如<a href="http://wicky.nillia.ms/enquire.js/" target="_blank" rel="external">enquire.js</a>，<a href="http://wicky.nillia.ms/enquire.js/" target="_blank" rel="external">enquire.js</a>是一个轻量级的JavaScript库，用以完成对CSS媒体查询做出响应，特点如下：</p>
<ul>
<li>为媒体查询提供匹配与不匹配的回调函数;</li>
<li>简介并直观的API接口;</li>
<li>绝对够小，压缩后0.8kb;</li>
</ul>
<p>关于enquire.js]<a href="http://wicky.nillia.ms/enquire.js/" target="_blank" rel="external">1</a>的使用和说明参见其<a href="https://github.com/WickyNilliams/enquire.js" target="_blank" rel="external">Github</a></p>
<h3 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h3><ul>
<li><a href="http://caniuse.com/#feat=matchmedia" target="_blank" rel="external">CanIUse matchMedia</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/API/Window/matchMedia" target="_blank" rel="external">MDN window.matchMedia</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/API/MediaQueryList" target="_blank" rel="external">MDN MediaQueryList</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/Guide/CSS/Media_queries" target="_blank" rel="external">CSS media queries</a></li>
<li><a href="http://wicky.nillia.ms/enquire.js/" target="_blank" rel="external">enquire.js</a></li>
<li><a href="http://adapt.960.gs/" target="_blank" rel="external">Adapt.js - Adaptive CSS</a></li>
<li><a href="http://dev.w3.org/csswg/cssom-view/#extensions-to-the-window-interface" target="_blank" rel="external">Extensions to the Window Interface</a></li>
<li><a href="https://github.com/paulirish/matchMedia.js/" target="_blank" rel="external">matchMedia.js</a></li>
</ul>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://monjer.github.io/2015/03/30/jQuery中检测DOM原生方法是否存在的方式/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="monjer">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="monjer's note">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2015/03/30/jQuery中检测DOM原生方法是否存在的方式/" itemprop="url">jQuery中检测DOM原生方法是否存在的方式</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2015-03-30T00:00:00+08:00">
                2015-03-30
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2015/03/30/jQuery中检测DOM原生方法是否存在的方式/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2015/03/30/jQuery中检测DOM原生方法是否存在的方式/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>浏览器种类的不同，相同浏览器的版本不同,决定了我们在使用某项Web功能都需要考虑浏览器的兼容性问题，其中浏览器<strong>特性检测</strong>算是被广泛使用的用来解决浏览器兼容性问题的方法。<strong>特性检测</strong>的目的不是识别我们当前使用的浏览器的类型或者是浏览器的版本，而是意在识别浏览器是否支持或者说是某个功能。根据浏览器对该功能的实现情况，我们可以在代码中正确的做出流程切分，对于不支持某个功能的浏览器我们可以进行优雅的降级处理，从而避免我们做的某个功能出现只能运行在某个浏览器或某个浏览器的特定版本上。</p>
<p>jQuery作为最流行的js框架，其最大的特征之一是:Cross Browser,很好解决了诸多在Web开发中面临的浏览器兼容性问题，让Web开发这将更多的精力放在所要实现业务逻辑上。</p>
<h3 id="DOM-navive方法检测"><a href="#DOM-navive方法检测" class="headerlink" title="DOM navive方法检测"></a>DOM navive方法检测</h3><p>在解决兼容性问题上，jQuery充分的利用了<strong>特性检测</strong>。<strong>特性检测</strong>的内容包含了诸多方面，其中一项是用来检测浏览器是否支持某个原生的DOM API。它用了一个很简短正则表达式即解决了该问题，该表达式定义为：
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">rnative = <span class="regexp">/^[^&#123;]+\&#123;\s*\[native \w/</span>,</div></pre></td></tr></table></figure></p>
<p>以上是用来检测浏览器是否支持某个DOM native方法的正则表达式，可以看看jQuery是利用该正则表达式都做个那些<strong>特性检测</strong>。</p>
<ol>
<li><p>检测<code>getElementsByClassName</code>方法</p>
 <figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// Support: IE&lt;9</span></div><div class="line">support.getElementsByClassName = rnative.test( doc.getElementsByClassName );</div></pre></td></tr></table></figure>
</li>
<li><p>检测<code>querySelector API</code></p>
 <figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">if</span> ( (support.qsa = rnative.test( doc.querySelectorAll )) ) &#123;</div><div class="line"></div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>检测<code>matchesSelector</code>方法</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">if</span> ( (support.matchesSelector = rnative.test( (matches = docElem.matches ||</div><div class="line">    docElem.webkitMatchesSelector ||</div><div class="line">    docElem.mozMatchesSelector ||</div><div class="line">    docElem.oMatchesSelector ||</div><div class="line">    docElem.msMatchesSelector) )) ) &#123;</div><div class="line">    <span class="comment">// to do</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>检测<code>compareDocumentPosition</code>方法</p>
 <figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">hasCompare = rnative.test( docElem.compareDocumentPosition );</div></pre></td></tr></table></figure>
</li>
<li><p>检测<code>contains</code>方法</p>
 <figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">rnative.test( docElem.contains )</div></pre></td></tr></table></figure>
</li>
</ol>
<p>以上检测代码来自于<code>jQuery-1.11.2</code>对于DOM native方法的特性检测。</p>
<h3 id="Web控制台和toString方法"><a href="#Web控制台和toString方法" class="headerlink" title="Web控制台和toString方法"></a>Web控制台和toString方法</h3><p>那么该正则表达式是如何起作用的呢？打开任意浏览器的控制台，在控制台中输入<code>document.getElementsByClassName</code>，然后回车执行，各浏览器的返回情况如图</p>
<p><strong>chrome:</strong></p>
<img src="/2015/03/30/jQuery中检测DOM原生方法是否存在的方式/chrome.png" alt="chrome.png" title="">
<p><strong>safari</strong>
<img src="/2015/03/30/jQuery中检测DOM原生方法是否存在的方式/safari.png" alt="safari.png" title=""></p>
<p><strong>opera</strong></p>
<img src="/2015/03/30/jQuery中检测DOM原生方法是否存在的方式/opera.png" alt="opera.png" title="">
<p><strong>IE</strong></p>
<img src="/2015/03/30/jQuery中检测DOM原生方法是否存在的方式/ie.png" alt="ie.png" title="">
<p><strong>firefox</strong></p>
<img src="/2015/03/30/jQuery中检测DOM原生方法是否存在的方式/firefox.png" alt="firefox.png" title="">
<p>可以看到除了火狐外，所有浏览器控制台输出的是一个字符串：
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">getElementsByClassName</span>(<span class="params"></span>) </span>&#123; [native code] &#125;</div></pre></td></tr></table></figure></p>
<p>因为默认情况下直接在命令行输入代码执行等价于执行<code>console.log(document.getElementsByClassName)</code>，<code>console.log(arg)</code>类似于C语言的<code>printf</code>语句，用来打印字符串，对于<code>console.log(arg)</code>来说，如果传入的参数不是字符串类型，而是对象类型，那么默认会调用对象的<code>toString</code>方法。</p>
<p><code>toString()</code>方法是<code>Object</code>原型对象上的方法，用来返回一个描述对象的字符串。因此所有对象都有<code>toString()</code>方法，在需要将对象转换为字符串值的时候，或者在一个代码执行中需要对象以文本表示时，会自动调用对象的<code>toString()</code>方法，如把字符串和一个对象连接输出
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> str = <span class="string">""</span>+&#123;&#125; ;</div><div class="line"><span class="built_in">console</span>.log(str); <span class="comment">// ouput --&gt; [object Object]</span></div></pre></td></tr></table></figure></p>
<p>每个对象都可以覆盖此方法并返回一个字符串。在js下函数或者方法也是对象，也就是说默认情况下对于DOM native方法，它们的<code>toString()</code>方法返回的是一致的字符串，也就是我们之前看到的输出。</p>
<p>貌似狐火有些特殊，但在我们执行<code>&quot;&quot;+document.getElementsByClassName</code>，输出的是</p>
<img src="/2015/03/30/jQuery中检测DOM原生方法是否存在的方式/firefox2.png" alt="firefox2.png" title="">
<p>可以看到也是类似的字符串
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">getElementsByClassName</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    [native code]</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>只不过多了换行，其实直接执行<code>document.getElementsByClassName</code>,火狐输出的是<code>document.getElementsByClassName</code>方法的一个的占位符。</p>
<h3 id="RegexObj-test-str"><a href="#RegexObj-test-str" class="headerlink" title="RegexObj.test(str)"></a>RegexObj.test(str)</h3><p>回到之前的正则表达式上来，js中对于一个正则表达式的<code>test</code>方法接受一个字符串参数，返回一个布尔值，检测该字符串是否与正则表达式匹配。所以执行对于<code>rnative.test( doc.getElementsByClassName );</code>等价于<code>rnative.test( doc.getElementsByClassName.toString());</code>。</p>
<p>分解<code>rnative</code>的至多个子表达式：</p>
<ul>
<li><code>^[^{]+\</code>匹配除了<code>{</code>外的任何字符一到多次；</li>
<li><code>\{\s*</code>匹配以<code>\{\s*</code>字符开始，以及任意空白符零次或多次;</li>
<li><code>\[native \w</code>匹配以<code>[native</code>开始的，后跟包括下划线的任何单词字符。</li>
</ul>
<p>所有字表达式连起来的最终匹配结果正好满足对类似<code>function getElementsByClassName() { [native code] }</code>字符串的检测。</p>
<p>完。</p>
<h3 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h3><ul>
<li><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Console" target="_blank" rel="external">MDN Console</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/toString" target="_blank" rel="external">Object.prototype.toString()</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp/test" target="_blank" rel="external">RegExp.prototype.test</a></li>
<li><a href="http://jquery.com/browser-support/" target="_blank" rel="external">Browser Support</a></li>
<li><a href="https://msdn.microsoft.com/zh-cn/hh561717.aspx" target="_blank" rel="external">Browser and feature detection: Make your website look great everywhere</a></li>
<li><a href="https://msdn.microsoft.com/zh-cn/hh475813" target="_blank" rel="external">Browser and feature detection: Make your website look great everywhere中文</a></li>
</ul>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://monjer.github.io/2015/03/28/CSS-Selector-API-matches/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="monjer">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="monjer's note">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2015/03/28/CSS-Selector-API-matches/" itemprop="url">CSS Selector API - matches</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2015-03-28T00:00:00+08:00">
                2015-03-28
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2015/03/28/CSS-Selector-API-matches/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2015/03/28/CSS-Selector-API-matches/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="语法及功能"><a href="#语法及功能" class="headerlink" title="语法及功能"></a>语法及功能</h3><p><code>element.matches(selector)</code>方法用来检测<code>element</code>元素是否与指定的<code>selector</code>选择器相匹配，如果匹配，则方法返回<code>true</code>值,反之，返回<code>false</code>值，如
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"head"</span> <span class="attr">class</span>=<span class="string">"header"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">"menu"</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span>&gt;</span>Home<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span>&gt;</span>Blog<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span>&gt;</span>News<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="actionscript"></span></div><div class="line"></div><div class="line">    <span class="keyword">var</span> head = document.getElementById(head);</div><div class="line">    <span class="keyword">if</span>(head.matches(<span class="string">".header"</span>))&#123;</div><div class="line">        console.log(<span class="string">"mactch"</span>);</div><div class="line">    &#125;<span class="keyword">else</span>&#123;</div><div class="line">        console.log(<span class="string">"not mactch"</span>);</div><div class="line">    &#125;</div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p>以上代码执行的输出结果是<code>match</code>    。</p>
<blockquote>
<p><code>element.match(selector)</code>的前身是<code>element.matchSelector(selector)</code></p>
</blockquote>
<h3 id="兼容性"><a href="#兼容性" class="headerlink" title="兼容性"></a>兼容性</h3><p>不是所有浏览器都很好的支持该接口，但基本上所有浏览器都以添加前缀方式实现自己的matchesSelector方法。可以参见当前该接口的<a href="http://caniuse.com/#search=matches" target="_blank" rel="external">实现情况</a>。考虑各个浏览器的实现差异，可以实现以下方法：
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">matchesSelector</span>(<span class="params">element , selector</span>)</span>&#123;</div><div class="line">    <span class="keyword">var</span> docEl = <span class="built_in">document</span>.documentElement;</div><div class="line">    <span class="keyword">var</span> matchSelector = docEl.matches || <span class="comment">// w3c</span></div><div class="line">            docEL.webkitMatchesSelector || <span class="comment">// chrome  safari webkit</span></div><div class="line">            docEl.mozMatchesSelector || <span class="comment">// firefox</span></div><div class="line">            docEl.msMatchesSelector || <span class="comment">// ie</span></div><div class="line">            docEl.oMatchesSelector ; <span class="comment">// opera</span></div><div class="line"></div><div class="line">    <span class="keyword">return</span> matchSelector.call(element , selector);</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>对于不支持<code>element.matches(selector)</code>但支持<code>querySelector/querySelectorAll</code>的浏览器可以有以下替代方法：
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">matchSelector</span>(<span class="params">element , selector</span>)</span>&#123;</div><div class="line">    <span class="keyword">var</span> results = <span class="built_in">document</span>.querySelectorAll(selector);</div><div class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span> , length = results.length ; i &lt; length ; i++)&#123;</div><div class="line">        <span class="keyword">if</span>(results[i] === element)&#123;\</div><div class="line">            <span class="keyword">return</span> <span class="literal">true</span> ;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> <span class="literal">false</span> ;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>综合两种方式
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">matchesSelector</span>(<span class="params">element , selector</span>)</span>&#123;</div><div class="line">    <span class="keyword">var</span> docEl = <span class="built_in">document</span>.documentElement;</div><div class="line">    <span class="keyword">var</span> matchSelector = docEl.matches || <span class="comment">// w3c</span></div><div class="line">            docEL.webkitMatchesSelector || <span class="comment">// chrome  safari webkit</span></div><div class="line">            docEl.mozMatchesSelector || <span class="comment">// firefox</span></div><div class="line">            docEl.msMatchesSelector || <span class="comment">// ie</span></div><div class="line">            docEl.oMatchesSelector || <span class="comment">// opera</span></div><div class="line">            <span class="function"><span class="keyword">function</span>(<span class="params">selector</span>)</span>&#123;</div><div class="line">                <span class="keyword">var</span> results = <span class="built_in">document</span>.querySelectorAll(selector);</div><div class="line">                <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span> , length = results.length ; i &lt; length ; i++)&#123;</div><div class="line">                    <span class="keyword">if</span>(results[i] === <span class="keyword">this</span>)&#123;\</div><div class="line">                        <span class="keyword">return</span> <span class="literal">true</span> ;</div><div class="line">                    &#125;</div><div class="line">                &#125;</div><div class="line">                <span class="keyword">return</span> <span class="literal">false</span> ;</div><div class="line">            &#125;</div><div class="line"></div><div class="line">    <span class="keyword">return</span> matchSelector.call(element , selector);</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h3 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h3><ul>
<li><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Element/matches" target="_blank" rel="external">MDN element.matches</a></li>
<li><a href="http://caniuse.com/#search=querySelector" target="_blank" rel="external">CanIUse querySelector</a></li>
<li><a href="http://caniuse.com/#search=matches" target="_blank" rel="external">CanIUse matches</a></li>
</ul>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://monjer.github.io/2015/03/22/HTML5的placeholder属性/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="monjer">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="monjer's note">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2015/03/22/HTML5的placeholder属性/" itemprop="url">HTML5的placeholder属性</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2015-03-22T00:00:00+08:00">
                2015-03-22
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2015/03/22/HTML5的placeholder属性/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2015/03/22/HTML5的placeholder属性/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="目的"><a href="#目的" class="headerlink" title="目的"></a>目的</h3><p>HTML5中为input元素添加了placeholder属性，用来作为一个简短的提示，描述当前输入框期望用户的输入值。如下：
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">name</span>=<span class="string">"username"</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">placeholder</span>=<span class="string">"请输入用户名"</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p>在用户未输入任何值的时候，输入框会显示placeholder属性设置的提示信息，而且会以有别于正式的输入值的样式来设置placeholder字符串的样子。</p>
<h3 id="适用于"><a href="#适用于" class="headerlink" title="适用于"></a>适用于</h3><p>不是所有类型的input都可以添加placeholder属性，以下几个类型的input支持该属性</p>
<ul>
<li>text</li>
<li>search</li>
<li>url</li>
<li>telephone</li>
<li>email</li>
<li>password</li>
</ul>
<p>除了可以为input设置placeholder属性外，textarea元素同样支持placeholder属性。</p>
<h3 id="设置样式"><a href="#设置样式" class="headerlink" title="设置样式"></a>设置样式</h3><p>以改变背景色为例,设置所有input和textarea的placeholder样式
<figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">*<span class="selector-pseudo">::-webkit-input-placeholder</span> &#123;<span class="comment">/* Webkit , Chrome , Safari */</span></div><div class="line">    <span class="attribute">background-color</span>: white;</div><div class="line">&#125;</div><div class="line">*<span class="selector-pseudo">:-moz-placeholder</span> &#123;<span class="comment">/* FF 4-18 */</span></div><div class="line">    <span class="attribute">background-color</span>: white;</div><div class="line">&#125;</div><div class="line">*<span class="selector-pseudo">::-moz-placeholder</span> &#123;<span class="comment">/* FF 19+ */</span></div><div class="line">    <span class="attribute">background-color</span>: white;</div><div class="line">&#125;</div><div class="line">*<span class="selector-pseudo">:-ms-input-placeholder</span> &#123;<span class="comment">/* IE 10+ */</span></div><div class="line">    <span class="attribute">background-color</span>: white;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>也可以结合其它选择器来设置特定元素的placeholder的样式
<figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="selector-id">#loginForm</span> <span class="selector-tag">input</span><span class="selector-pseudo">::-webkit-input-placeholder</span> &#123;<span class="comment">/* Webkit , Chrome , Safari */</span></div><div class="line">    <span class="attribute">background-color</span>: white;</div><div class="line">&#125;</div><div class="line"><span class="selector-id">#loginForm</span> <span class="selector-tag">input</span><span class="selector-pseudo">:-moz-placeholder</span> &#123;<span class="comment">/* FF 4-18 */</span></div><div class="line">    <span class="attribute">background-color</span>: white;</div><div class="line">&#125;</div><div class="line"><span class="selector-id">#loginForm</span> <span class="selector-tag">input</span><span class="selector-pseudo">::-moz-placeholder</span> &#123;<span class="comment">/* FF 19+ */</span> 	    <span class="attribute">background-color</span>: white;</div><div class="line">&#125;</div><div class="line"><span class="selector-id">#loginForm</span> <span class="selector-tag">input</span><span class="selector-pseudo">:-ms-input-placeholder</span> &#123;<span class="comment">/* IE 10+ */</span></div><div class="line">    <span class="attribute">background-color</span>: white;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h3 id="兼容性"><a href="#兼容性" class="headerlink" title="兼容性"></a>兼容性</h3><table>
  <tbody><tr>
    <th style="width:20%;font-size:16px;text-align:left;">属性</th>
    <th style="width:16%;" class="bsChrome" title="Chrome">Chrome</th>
    <th style="width:16%;" class="bsIE" title="Internet Explorer">IE</th>
    <th style="width:16%;" class="bsFirefox" title="Firefox">Firefox</th>
    <th style="width:16%;" class="bsSafari" title="Safari">Safari</th>
    <th style="width:16%;" class="bsOpera" title="Opera">Opera</th>
  </tr>
  <tr>
    <td style="text-align:left;">placeholder</td>
    <td>10.0</td>
    <td>10.0</td>
    <td>4.0</td>
    <td>5.0</td>
    <td>11.0</td>
  </tr>
</tbody></table>

<h3 id="特性检测和jQuery插件"><a href="#特性检测和jQuery插件" class="headerlink" title="特性检测和jQuery插件"></a>特性检测和jQuery插件</h3><p>由于不是所有浏览器都支持该新属性，可以用以下代码来进行特性检测，判断当前浏览器是否支持placeholder属性
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">supportPlaceholderAttr</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> input = <span class="built_in">document</span>.createElement(<span class="string">'input'</span>);</div><div class="line">    <span class="keyword">return</span> (<span class="string">'placeholder'</span> <span class="keyword">in</span> input);</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>此外也有关于placeholder的jQuery插件来使得不支持该属性的浏览器也能实现该效果，参见<a href="https://github.com/mathiasbynens/jquery-placeholder" target="_blank" rel="external">jquery-placeholder</a>的说明及使用</p>
<h3 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h3><ul>
<li><a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/::-moz-placeholder" target="_blank" rel="external">MDN <code>::-moz-placeholder</code></a></li>
<li><a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/:-moz-placeholder" target="_blank" rel="external">MDN <code>:-moz-placeholder</code></a></li>
<li><a href="https://html.spec.whatwg.org/multipage/forms.html#attr-textarea-placeholder" target="_blank" rel="external">HTML5 textarea placeholder</a></li>
<li><a href="https://html.spec.whatwg.org/multipage/forms.html#attr-input-placeholder" target="_blank" rel="external">HTML5 input placeholder</a></li>
<li><a href="http://stackoverflow.com/questions/2610497/change-an-inputs-html5-placeholder-color-with-css" target="_blank" rel="external">Change an input’s HTML5 placeholder color with CSS</a></li>
<li><a href="https://msdn.microsoft.com/en-us/library/ie/hh772745(v=vs.85).aspx&quot;" target="_blank" rel="external">IE <code>:-ms-input-placeholder</code></a></li>
</ul>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/6/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/6/">6</a><span class="page-number current">7</span><a class="page-number" href="/page/8/">8</a><span class="space">&hellip;</span><a class="page-number" href="/page/14/">14</a><a class="extend next" rel="next" href="/page/8/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel sidebar-panel-active">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/avatar.gif"
               alt="monjer" />
          <p class="site-author-name" itemprop="name">monjer</p>
           
              <p class="site-description motion-element" itemprop="description"></p>
          
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/archives">
                <span class="site-state-item-count">136</span>
                <span class="site-state-item-name">日志</span>
              </a>
            </div>
          

          

          
            
            
            <div class="site-state-item site-state-tags">
              <a href="/tags/index.html">
                <span class="site-state-item-count">84</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        
          <div class="feed-link motion-element">
            <a href="/atom.xml" rel="alternate">
              <i class="fa fa-rss"></i>
              RSS
            </a>
          </div>
        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

        


      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">monjer</span>
</div>


<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Muse
  </a>
</div>


        

        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.1"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.1"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.1"></script>



  

  
    
  

  <script type="text/javascript">
    var duoshuoQuery = {short_name:"monjer"};
    (function() {
      var ds = document.createElement('script');
      ds.type = 'text/javascript';ds.async = true;
      ds.id = 'duoshuo-script';
      ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
      ds.charset = 'UTF-8';
      (document.getElementsByTagName('head')[0]
      || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
  </script>

  
    
    
    <script src="/lib/ua-parser-js/dist/ua-parser.min.js?v=0.7.9"></script>
    <script src="/js/src/hook-duoshuo.js"></script>
  
















  





  

  

  

  

  

</body>
</html>
