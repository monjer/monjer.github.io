<!doctype html>




<html class="theme-next muse" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>






<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.1" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />





  <link rel="alternate" href="/atom.xml" title="monjer's note" type="application/atom+xml" />




  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.1" />






<meta property="og:type" content="website">
<meta property="og:title" content="monjer&#39;s note">
<meta property="og:url" content="http://monjer.github.io/page/14/index.html">
<meta property="og:site_name" content="monjer&#39;s note">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="monjer&#39;s note">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    sidebar: {"position":"left","display":"post","offset":12,"offset_float":0,"b2t":false,"scrollpercent":false},
    fancybox: true,
    motion: false,
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://monjer.github.io/page/14/"/>





  <title>monjer's note</title>
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<script>
  (adsbygoogle = window.adsbygoogle || []).push({
    google_ad_client: "ca-pub-5347284824666460",
    enable_page_level_ads: true
  });
</script>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  





  <script type="text/javascript">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?2b4f08dbd457a5e207bff33f77b0eafc";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>











  
  
    
  

  <div class="container sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">monjer's note</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://monjer.github.io/2013/11/04/苹果专有的meta标签说明/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="monjer">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="monjer's note">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2013/11/04/苹果专有的meta标签说明/" itemprop="url">苹果专有的meta标签说明</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2013-11-04T00:00:00+08:00">
                2013-11-04
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><strong>名称:</strong> apple-mobile-web-app-capable
<strong>目的:</strong> 设置Web App是否运行在全屏模式下(full-screen mode)。
<strong>语法:</strong>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"apple-mobile-web-app-capable"</span> <span class="attr">content</span>=<span class="string">"yes"</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p><strong>说明:</strong></p>
<blockquote>
<p>content设置为yes，Web Application会运行在全屏模式下。默认会使用Safari显示web内容。通过window.navigator.standalone属性可以判断当前页面是否运行在全屏模式下，该属性为只读属性(read-only)。</p>
</blockquote>
<p><strong>名称:</strong> apple-mobile-web-app-status-bar-style
<strong>目的:</strong> 设置Web Application设置状态栏(status bar)的样式。
<strong>语法:</strong>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"apple-mobile-web-app-status-bar-style"</span> <span class="attr">content</span>=<span class="string">"black"</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p><strong>说明:</strong></p>
<blockquote>
<p>该标签要求首先要设置Web Application运行在全屏模式下。设置content为default，状态栏以常态显示。设置为black，状态栏会变为黑色背景。设置为black-transparent，状态栏会变为黑色透明背景。设置black或default，web内容会显示在状态栏下面，设置为black-transparent，web内容会全屏显示，同时会被状态栏遮盖。默认值为default。</p>
</blockquote>
<p><strong>名称:</strong> format-detection
<strong>目的:</strong> 启用或禁用IOS Safari下web页面中电话号码的自动检测。
<strong>语法:</strong>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"format-detection"</span> <span class="attr">content</span>=<span class="string">"telephone=no"</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p><strong>说明:</strong></p>
<blockquote>
<p>IOS中的Safari默认会检测任何格式类似于电话号码的字符串，并将其作为一个直接拨号link。设置telephone=no会禁用该功能。</p>
</blockquote>
<p><strong>名称:</strong> viewport
<strong>目的:</strong> 在IOS下，改变展示页面使用的逻辑窗口大小。
<strong>语法:</strong>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span> = <span class="string">"viewport"</span> <span class="attr">content</span> = <span class="string">"width = 320, initial-scale = 2.3, user-scalable = no"</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p><strong>说明:</strong></p>
<blockquote>
<p>使用viewport meta关键字可以提升IOS下web内容的展示效果。可以使用viewport meta标签来设置viewport的宽度和初始缩放比。
例如，如果webpage的宽度小于980px，可以设置viewport的大小来适配网页内容。设计IOS专有的web application，需要将其宽度设置为设备宽度。
<strong>表-1</strong> 描述了viewport meta支持的关键字和默认值。在viewport meta中设置多属性时，需要使用逗号分隔的赋值列表。规则如下：</p>
<ul>
<li>不要使用分号作为分隔符。</li>
<li>空格也可以作为分隔符使用，但逗号优先。</li>
<li>数值型属性的值包含了非数值型字符串，但以数字开头，那么数字前缀会被当做值来使用。例如1.0x等价于1.0；123x456等价于123。非数字开头的参数，取值为0。
在使用设备尺寸时，不要使用具体数值进行硬编码，相反需要使用<strong>表-2</strong>规定的常量。例如，在横屏下，使用device-width而不是320设置viewport宽度，使用device-height而不是480来设置viewport高度。</li>
</ul>
<p>不必设置viewport的所有属性。部分属性设置后，IOS上的Safari会推断其余属性的值。例如，设置缩放比(scale)为1.0后，Safari会认为viewport的宽度在竖屏下是device-width，在横屏下是device-height。因此，想要设置viewport的宽度为980px，缩放比为1.0，则需要同时显示设置这两个属性。</p>
<p>例如:</p>
<p><strong>设置viewport的宽度为设备宽度</strong>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span> = <span class="string">"viewport"</span> <span class="attr">content</span> = <span class="string">"width = device-width"</span>&gt;</span></div></pre></td></tr></table></figure>
>**设置初始缩放比为1.0**
><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span> = <span class="string">"viewport"</span> <span class="attr">content</span> = <span class="string">"initial-scale = 1.0"</span>&gt;</span></div></pre></td></tr></table></figure>
<strong>设置初始缩放比并禁用用户的缩放行为</strong>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span> = <span class="string">"viewport"</span> <span class="attr">content</span> = <span class="string">"initial-scale = 2.3, user-scalable = no"</span>&gt;</span></div></pre></td></tr></table></figure></p>
</blockquote>
<table border="0" cellspacing="0" cellpadding="5" style="width:858px;" width="858">
    <caption> <strong class="caption_number">表-1</strong>
        &nbsp;&nbsp;Viewport属性
    </caption>
    <tbody>
        <tr>
            <th>
                <p>属性</p>
            </th>
            <th>
                <p>描述</p>
            </th>
        </tr>
        <tr>
            <td>
                <p>
                    width
                </p>
            </td>
            <td>
                <p>
                    viewport的像素宽度. 默认980。取值范围从200-10000像素
                </p>
                <p>
                    也可以使用表-2描述的常量来为该属性赋值。
                </p>
                <p>iOS 1.0及以后可用.</p>
            </td>
        </tr>
        <tr>
            <td>
                <p>
                    height
                </p>
            </td>
            <td>
                <p>
                    viewport的像素高度。默认会根据width属性值以及设备的宽高比来计算高度值。取值范围223到10000像素。
                </p>
                <p>
                    也可以使用表-2描述的常量来为该属性赋值。
                </p>
                <p>iOS 1.0及以后可用.</p>
            </td>
        </tr>
        <tr>
            <td>
                <p>
                    initial-scale
                </p>
            </td>
            <td>
                <p>
                    作为乘数的viewport的初始缩放比，默认会填充页面内容适配显示区来计算值。取值范围取决于
                    minimum-scale
                    和
                    maximum-scale
                    属性.
                </p>
                <p>
                    该属性只能设置视口的初始缩放比——页面首次显示的viewport的缩放比例。之后用户可以放大或缩小viewport，除非将user-scalable设置为no。缩放范围限定在minimun-scale和maximum-scale之间。
                </p>
                <p>iOS 1.0及以后可用.</p>
            </td>
        </tr>
        <tr>
            <td>
                <p>
                    minimum-scale
                </p>
            </td>
            <td>
                <p>
                    指定viewport的最小缩放值。默认为0.25，取值范围大于0小于等于10.0。
                </p>
                <p>iOS 1.0及以后可用.</p>
            </td>
        </tr>
        <tr>
            <td>
                <p>
                    maximum-scale
                </p>
            </td>
            <td>
                <p>
                    指定viewport的最大缩放值。默认为5.0，取值范围大于0小于等于10.0。
                </p>
                <p>iOS 1.0及以后可用.</p>
            </td>
        </tr>
        <tr>
            <td>
                <p>
                    user-scalable
                </p>
            </td>
            <td>
                <p>
                    决定用户是否可以进行放大或缩小页面操作——亦即是否可以改变viewport的缩放比(scale)。设置yes允许缩放，no禁用缩放，默认为yes。
                </p>
                <p>
                    设置user-scalable为no同时会阻止页面在input框中输入文本时的滚动。
                </p>
                <p>iOS 1.0及以后可用.</p>
            </td>
        </tr>
    </tbody>
</table>

<table border="0" cellspacing="0" cellpadding="5">
    <caption> <strong class="caption_number">表-2</strong>
        &nbsp;&nbsp;指定viewport属性值
    </caption>
    <tbody>
        <tr>
            <th scope="col">
                <p>值</p>
            </th>
            <th scope="col">
                <p>说明</p>
            </th>
        </tr>
        <tr>
            <td>
                <p>
                    device-width
                </p>
            </td>
            <td>
                <p>设备的像素宽度。</p>
                <p>OS 1.1.1及以后可用.</p>
            </td>
        </tr>
        <tr>
            <td>
                <p>
                    <code>device-height</code>
                </p>
            </td>
            <td>
                <p>设备的像素高度</p>
                <p>OS 1.1.1及以后可用.</p>
            </td>
        </tr>
    </tbody>
</table>

<h3 id="参考"><a href="#参考" class="headerlink" title="参考:"></a>参考:</h3><ul>
<li><a href="https://developer.apple.com/library/safari/documentation/AppleApplications/Reference/SafariHTMLRef/Articles/MetaTags.html#//apple_ref/doc/uid/TP40008193-SW3" target="_blank" rel="external">Supported Meta Tags</a></li>
<li><a href="https://developer.apple.com/library/safari/documentation/AppleApplications/Reference/SafariWebContent/UsingtheViewport/UsingtheViewport.html#//apple_ref/doc/uid/TP40006509-SW19" target="_blank" rel="external">Configuring the Viewport</a></li>
</ul>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://monjer.github.io/2013/09/14/4-级IOS-App内嵌UIWebView模拟浏览器被拒的解决办法/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="monjer">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="monjer's note">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2013/09/14/4-级IOS-App内嵌UIWebView模拟浏览器被拒的解决办法/" itemprop="url">4+级IOS App内嵌UIWebView模拟浏览器被拒的解决办法</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2013-09-14T00:00:00+08:00">
                2013-09-14
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="UIWebView模拟浏览器"><a href="#UIWebView模拟浏览器" class="headerlink" title="UIWebView模拟浏览器"></a>UIWebView模拟浏览器</h3><p>在IOS的UiKit中，UIWebView作为可以在程序内嵌入web内容的UI组件，被多数应用程序和开发者所使用。使用UIWebView可以方便的在程序中加入web内容。UIWebView提供了方法和属性来对web内容的使用和状态进行提示和控制，如用于</p>
<ul>
<li><p>加载内容的方法:</p>
  <figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">– loadData:MIMEType:textEncodingName:baseURL:</div><div class="line">– loadHTMLString:baseURL:</div><div class="line">– loadRequest:</div><div class="line">- stopLoading</div><div class="line">- reload</div></pre></td></tr></table></figure>
</li>
<li><p>状态提示的属性</p>
  <figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">loading</div></pre></td></tr></table></figure>
</li>
<li><p>前进与后退的方法</p>
  <figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">- goBack</div><div class="line">- goForward</div></pre></td></tr></table></figure>
</li>
<li><p>判断能否前进与后台的属性</p>
  <figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">canGoBack</div><div class="line">canGoForward</div></pre></td></tr></table></figure>
</li>
</ul>
<p>如果再加上一个文本输入框来提供URL输入的功能，也就是模拟下地址栏，那么所有这些方法和属性组合起来正好可以在程序内部模拟一个简单的“浏览器”。这个功能之前已有程序在使用，如<a href="https://itunes.apple.com/cn/app/notability/id360593530?mt=8" target="_blank" rel="external">Notability</a> , <a href="https://itunes.apple.com/cn/app/notes-plus/id374211477?mt=8" target="_blank" rel="external">Note Plus</a>。</p>
<h3 id="因17-问题App提交被拒"><a href="#因17-问题App提交被拒" class="headerlink" title="因17+问题App提交被拒"></a>因17+问题App提交被拒</h3><p><a href="https://itunes.apple.com/app/molasync-cloud-notes-by-which/id660018160?ign-mpt=uo%3D5" target="_blank" rel="external">MolaSync</a>是一款已上线的iPad App，本人负责界面开发，
鉴于功能的需要MolaSync也需要在程序内部模拟一个“浏览器”，原理就是以上提到的这些功能和UI组件的结合，允许用户在的程序内部输入url来浏览任意网页内容，
当然在这个基础功能之上，程序内部还有一些定制化的要求，那就是允许用户任意截取当前浏览页面的某部分以生成图片。1.0版本正式发布于2013年7月23号，
和许多程序一样，程序的提交和审核也不是一帆风顺的，在6月份下旬程序提交不久后就被Apple的审核人员所拒，给出的理由如下：</p>
<blockquote>
<p>Since your app includes a browser which allows unfiltered access to the internet, it should be rated 17+. Applications must be rated accordingly for the highest level of content that the user is able to access.</p>
</blockquote>
<p>中文大义为：</p>
<blockquote>
<p>由于你的应用程序包含了浏览器，并允许在未过滤状态下访问网络，程序评级应该设定为17+。应用必须依据用户可以访问内容的最高级别来设置评级。</p>
</blockquote>
<h3 id="关于App分级"><a href="#关于App分级" class="headerlink" title="关于App分级"></a>关于App分级</h3><p>因为应用是因为分级被拒的，所以要搞清IOS App的分级策略和要求。通过iTunes Connect提交新的IOS应用程序时，应用本身需要提供一些重要信息，其中第一项便是：</p>
<blockquote>
<p>应用程序的元数据,包括分级信息</p>
</blockquote>
<p>这里的 <strong>分级信息</strong> 对应着提交App会操作的一个 <strong>“分级页面”</strong> ，关于<strong>“分级页面”</strong>苹果iTunes Connect给出的解释如下：</p>
<blockquote>
<p>分级页面允许您在初始创建的时候设定您的程序级别以便于App Store中的父母控制。所有的程序都必须分级。</p>
<p><strong>重要</strong>:程序不能包含任何淫秽的,色情的,攻击性的或者诽谤的内容,包括带有这些内容的文字,图 片,照片等,以及其他Apple认为会引起别人抗议的内容。</p>
<p><strong>设定程序分级: </strong></p>
<p>针对每个内容描述,选择适合您的程序的级别。</p>
<img src="/2013/09/14/4-级IOS-App内嵌UIWebView模拟浏览器被拒的解决办法/apps_new_rating.png" alt="apps_new_rating.png" title="">
<p>每当您做出选择,右边就会显示程序的级别。下面给出了程序级别的介绍。
<strong>程序级别定义</strong></p>
<ul>
<li><p>4岁以上</p>
<p> 此类别中的程序不包含受限制内容。</p>
</li>
<li><p>9岁以上</p>
<p> 此类别中的程序可能包含以下内容：轻微或偶尔出现的卡通、幻想或现实暴力；偶尔出现或轻微的成人、性暗示或恐怖内&gt;容。可能不适合未满9周岁的儿童。</p>
</li>
<li><p>12岁以上</p>
<p> 此类别的程序可能包含以下内容：偶尔出现的轻微不雅语言；频繁或强烈的卡通、幻想或现实暴力；轻微或偶尔出现的成&gt;人或性暗示主题；模拟赌博。可能不适合未满12周岁的儿童。</p>
</li>
<li><p>17岁以上</p>
<p> 您必须至少17岁才可以购买此App。</p>
<p> 此类别的应用软件还可能包含频繁和激烈的攻击性语言；频繁和激烈的卡通、幻想或现实暴力；频繁和激烈的成人、恐怖&gt;和暗示性主题；以及性内容、裸体、酒精、烟草、毒品以及性内容、裸体、酒精、烟草、毒品等不适于17岁以下儿童的内容。</p>
</li>
</ul>
</blockquote>
<p><strong>程序分级</strong>主要用来增加用户对程序内容的提前认知度，尤其是对家长，这可以让他们很方便的提前知道一款程序是否适合自己孩子使用，以达到一种过滤功能，避免那些“儿童不宜”的程序对未成年人造成坏的影响。成功发布后的应用程序说明都会有一个分级说明标签，以Note Plus的截图为例</p>
<img src="/2013/09/14/4-级IOS-App内嵌UIWebView模拟浏览器被拒的解决办法/note_plus_rate.png" alt="note_plus_rate.png" title="">
<p>因为转到IOS开发的时间还比较短，这是发布的第一个IOS应用，因经验欠缺对于IOS的许多规则注意事项和历史版本变迁，不是特别了解。“分级”标签的添加时间大约是13年的4月5号之后。此外iTunes Connect关于<strong>分级</strong>这块还提到了两个缩写名词<strong>ESRB</strong>和<strong>Pegi</strong>，上网查了下，这两个名词代表了两个组织的名称，<strong>ESRB</strong>的全称为<strong><a href="http://zh.wikipedia.org/wiki/%E5%A8%9B%E6%A8%82%E8%BB%9F%E4%BB%B6%E5%88%86%E7%B4%9A%E5%A7%94%E5%93%A1%E6%9C%83" target="_blank" rel="external">Entertainment Software Rating Board</a></strong>;<strong>Pegi</strong>全称为<strong><a href="http://zh.wikipedia.org/wiki/%E6%B3%9B%E6%AD%90%E9%81%8A%E6%88%B2%E8%B3%87%E8%A8%8A%E7%B5%84%E7%B9%94" target="_blank" rel="external">Pan European Game Information</a></strong>。两者都是用来对“电脑游戏”进行评级指导的组织机构，前者来自美国和加拿大，后者来自欧洲。</p>
<h3 id="寻找解决问题的办法"><a href="#寻找解决问题的办法" class="headerlink" title="寻找解决问题的办法"></a>寻找解决问题的办法</h3><p>程序审核不通过就要想办法解决问题。首先是向苹果的审核人员进行反馈和交涉。</p>
<p>第一封反馈中向苹果的审核人员解释应用本身的功能（笔记）以及“浏览器”的作用和对于应用必要性。仍被拒绝。</p>
<p>第二封反馈询问是否可以在程序内部对“浏览器”采取一定的“加密方式”，苹果的审核人员回复说，这是技术问题，不归他们审核人员管，
对于代码级别的帮助需要找苹果的<a href="https://developer.apple.com/support/technical/" target="_blank" rel="external">DTS</a>部门。而且要提供详细的屏幕截图，程序崩溃报告，
以及问题的重现步骤。另外的选择是在苹果的开发者网站上发帖询问。</p>
<p>几次的反馈下来应用还是没有通过苹果的审核。尝试在网上搜寻有没有相关的类似问题及解决办法，但结果并不理想。最后不得不去苹果的开发者论坛发帖求教，标题也很简单：</p>
<blockquote>
<p><a href="https://devforums.apple.com/message/836583#836583" target="_blank" rel="external">App use UIWebView as a “Broswer” is rejected</a></p>
</blockquote>
<p>开始帖子中提出了3个问题，中文大义如下：</p>
<blockquote>
<ol>
<li><p><strong>UIWebView是IOS提供的UI组件与Safari用的是同一个浏览器内核(Webkit),是否组件本身已经提供了“过滤”行为?</strong></p>
</li>
<li><p><strong>如果1中的假设不存在，是否有某种在不删除“浏览器”的前提下，提供过滤网络的办法？</strong></p>
</li>
<li><p><strong>像<a href="https://itunes.apple.com/cn/app/notes-plus/id374211477?mt=8" target="_blank" rel="external">Note plus</a>和<a href="https://itunes.apple.com/cn/app/notability/id360593530?mt=8" target="_blank" rel="external">Notability</a>这些应用是否提供了过滤网络的行为，它们又是如何在4+的前提下成功通过审核发布了自己的程序？</strong></p>
</li>
</ol>
</blockquote>
<p>帖子发出后陆续有国外的开发者给予了回复，而且还引发了我第四个疑问是：</p>
<blockquote>
<p><strong>17+的应用程序评级是否会影响到程序的搜索和下载？</strong></p>
</blockquote>
<p>最终陆陆续续的得到了关于四个问题的回复和解决方案，总结如下：</p>
<ol>
<li><p>在iTunes Connect的分级页面中评级区域中并没有关于要过滤网络的选项（”unfiltered internet access” option），国外的开发者认为这是App信息填写和苹果审核流程中的一些不完整的漏洞或bug。</p>
</li>
<li><p>之前的IOS版本中，可以检测到<strong>家长访问限制</strong>中是否屏蔽了Safari，这可以用来作为屏蔽自己内部“浏览器”的事件基础。但在IOS6之后则无法检测到该事件，苹果也未做出任何声明。</p>
</li>
<li><p>某个开发者的的程序内部也添加了“浏览器”，并且以17+的评级发布，销量并未收到影响，但也许这和程序的类别有关系（该开发者并未透露自己的程序）。</p>
</li>
<li><p>可以建立“白名单”机制，只允许用户浏览某些特定的健康的内容。</p>
</li>
<li><p>苹果的<a href="https://developer.apple.com/support/technical/" target="_blank" rel="external">DTS</a>无法处理这个问题，因为这不属于严格意义的代码错误，而是审核规则的问题。</p>
</li>
<li><p>App的审核具有历史性、未知性、随机性，有可能是早期的苹果审核机制和原则的不完善造成了诸如<a href="https://itunes.apple.com/cn/app/notability/id360593530?mt=8" target="_blank" rel="external">Notability</a> , <a href="https://itunes.apple.com/cn/app/notes-plus/id374211477?mt=8" target="_blank" rel="external">Note Plus</a>这样的4+应用。也有可能是开发这些App的公司与苹果有合作关系（这个猜测虽然有点邪恶）。</p>
</li>
</ol>
<p>经过一番尝试和总结，最终的可选的解决办法如下：</p>
<ol>
<li>应用程序评级按审核人员的要求改为17+（保证通过）</li>
<li>去掉“浏览器”功能，保持4+的程序评级（保证通过）</li>
<li>建立“白名单”机制，只允许用户访问固定的网站(有点不现实)</li>
<li>保证程序的4+，保留程序的重要功能。提供类似于IOS内置的<a href="http://support.apple.com/kb/HT4213?viewlocale=zh_CN" target="_blank" rel="external">访问限制</a>功能，对“浏览器”进行访问限制限制（可能还会被拒）。</li>
</ol>
<p>衡量再三，第三种首先否定，因为应用的特征和用户习惯决定“白名单”机制不现实。第一、二两种，虽然能够保证程序通过，但一个是强迫为自己的应用贴上“少儿不宜”的标签，一个是去除重要的功能，都不爽。那么只有尝试第四种了，虽然“鱼和熊掌不能兼得“，但总的试试。</p>
<h3 id="尝试最终的解决方案"><a href="#尝试最终的解决方案" class="headerlink" title="尝试最终的解决方案"></a>尝试最终的解决方案</h3><p>在选定的最终解决方案中提到了<a href="http://support.apple.com/kb/HT4213?viewlocale=zh_CN" target="_blank" rel="external">访问限制</a>。<a href="http://support.apple.com/kb/HT4213?viewlocale=zh_CN" target="_blank" rel="external">访问限制</a>也称家长控制，可以在iPhone,iPad,iPod touch上开启访问限制，来阻止访问设备上的特定功能或内容。</p>
<p>开启<a href="http://support.apple.com/kb/HT4213?viewlocale=zh_CN" target="_blank" rel="external">访问限制</a>的流程是，点击开启IOS内置的<strong>“设置”</strong>应用，在程序内依次点击 <strong>“通用”</strong> &gt; <strong>“访问限制”</strong>，并输入密码。我们关注的是Safari的访问限制方式。</p>
<p>其实很简单，在打开<strong>访问限制</strong>面板后，可以看到在<strong>Allow</strong>一栏中的所有选项后都有一个switch开关组件用来控制是否对当前项执行访问控制，点击Safari后的switch开启访问限制后，当我们退出<strong>设置</strong>来到设备的主屏中，发现Safari已从上面消失。看来这种所谓的访问限制是有点暴力性的将程序直接在设备上隐藏。</p>
<p>在我们程序的内部，未做改动前的交互形式是用户点击工具条上的一个触发“浏览器”的Button后，程序会直接从右侧滑入一个“浏览器“面板</p>
<img src="/2013/09/14/4-级IOS-App内嵌UIWebView模拟浏览器被拒的解决办法/browser_btn.png" alt="browser_btn.png" title="">
<img src="/2013/09/14/4-级IOS-App内嵌UIWebView模拟浏览器被拒的解决办法/browser.png" alt="browser.png" title="">
<p>下面是按照类似于<strong>访问限制</strong>所做的进一步的改动:</p>
<ol>
<li><p>在程序的<strong>“设置”</strong>列表项中增加<strong>“访问控制”</strong>一栏，子项目只有一个<strong>“浏览器选项”</strong>用来对浏览器的访问进行加密处理。</p>
 <img src="/2013/09/14/4-级IOS-App内嵌UIWebView模拟浏览器被拒的解决办法/setting.png" alt="setting.png" title=""></li>
<li><p>用户点击触发“浏览器”Button，初次访问“浏览器”功能时会首先向用户弹出Alert框并提示以下信息(信息的文字内容要进行国际化处理):</p>
<blockquote>
<p>在MolaSync的”设置”&gt;”浏览器”里你可以对浏览器设置密码保护,开启访问限制。</p>
</blockquote>
<p> 用户在确定之后则程序自动打开“浏览器”面板。这是条一次性的提示信息，用户之后的操作不会再次出现该提示。这样做的目的是:</p>
<ol>
<li>告知用户 <strong>程序内部内嵌了“浏览器”功能，并且设置访问限制，以及设置访问限制的操作流程。</strong></li>
<li>告诉苹果的审核人员，<strong>我们程序的内部的“浏览器”也有访问控制功能。</strong></li>
</ol>
</li>
</ol>
<ol>
<li><p>在App内部模拟并制作类似于苹果的<strong>设置</strong>应用在开启<strong>访问控制</strong>时弹出的密码输入框，操作逻辑也大致相同。当用户在程序的内部依次点击<strong>“设置”</strong>&gt;<strong>“访问控制”</strong>&gt;<strong>“浏览器”</strong>,弹出该模拟密码提示框允许用户对“浏览器”设置访问控制密码。</p>
 <img src="/2013/09/14/4-级IOS-App内嵌UIWebView模拟浏览器被拒的解决办法/controla.png" alt="controla.png" title="">
<p> “浏览器”访问限制开启之后，当用户再次点击“浏览器”button时，首先告知用户<strong>“访问限制已开启，需要在访问控制中输入密码”</strong>。</p>
 <img src="/2013/09/14/4-级IOS-App内嵌UIWebView模拟浏览器被拒的解决办法/controlb.png" alt="controlb.png" title="">
</li>
</ol>
<pre><code>密码输入的错误处理策略类似于苹果内置的访问限制的密码错误提示策略。

{% asset_img controlc.png %}


成功输入密码之后，用户则可以再次使用“浏览器”。
</code></pre><p>在上述流程全部完成并测试后，MolaSync再次提交，最后在同时保留程序4+评级和“浏览器”功能的前提下，应用成功通过了审核。附上截图一张：
<img src="/2013/09/14/4-级IOS-App内嵌UIWebView模拟浏览器被拒的解决办法/molasync.png" alt="molasync.png" title=""></p>
<ul>
<li><a href="https://itunes.apple.com/cn/app/molasync-ke-yi-liao-tian-bing/id660018160?mt=8" target="_blank" rel="external">molasync</a></li>
</ul>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://monjer.github.io/2013/08/16/Apple-DTS简介/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="monjer">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="monjer's note">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2013/08/16/Apple-DTS简介/" itemprop="url">Apple DTS简介</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2013-08-16T00:00:00+08:00">
                2013-08-16
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>上篇提到苹果的<a href="https://developer.apple.com/support/technical/" target="_blank" rel="external">DTS</a>，这里作下简单的介绍，因为自己也未曾正式使用过该功能，所以对其具体的使用过程也没有实际的经验，此处只是依据苹果官网的技术文档，介绍下其概念和几个<a href="https://developer.apple.com/support/technical/" target="_blank" rel="external">DTS</a>相关的管理界面。</p>
<h3 id="什么是DTS"><a href="#什么是DTS" class="headerlink" title="什么是DTS"></a>什么是DTS</h3><p><a href="https://developer.apple.com/support/technical/" target="_blank" rel="external">DTS</a>全称<a href="https://developer.apple.com/support/technical/" target="_blank" rel="external">Developer Technical Support</a>,亦即<a href="https://developer.apple.com/support/technical/" target="_blank" rel="external">开发者技术支持</a>。这是苹果内部的一个团队名称（或者是服务名称），是由一些在苹果的关键技术领域富有经验的高素质的工程师组成，针对苹果的框架(frameworks)、APIs、以及工具的使用提供代码级别的帮助，并且只面向苹果开发者计划会员（Apple Developer Program members）。</p>
<p>在开发者提出DTS请求后，苹果会将问题指派给其内部的开发者技术支持工程师，他/她负责帮助解决代码问题，告知如何获得更多的技术资源，或者提出其它可用的替代解决方案，从而解决问题，加快开发者的开发进度。</p>
<h3 id="DTS的服务对象"><a href="#DTS的服务对象" class="headerlink" title="DTS的服务对象"></a>DTS的服务对象</h3><p>上面提到，DTS服务面向:</p>
<ul>
<li>苹果开发者计划会员（Apple Developer Program members）。这其中包括:<ul>
<li>IOS个人开发者会员(iOS Developer Program members)</li>
<li>IOS企业开发者会员(iOS Developer Enterprise Program members)</li>
<li>Mac开发者会员(Mac Developer Program members)</li>
<li>Safari开发者会员(Safari Developer Program members)</li>
</ul>
</li>
<li><a href="https://developer.apple.com/cn/programs/mfi/" target="_blank" rel="external">MFi Program会员</a></li>
</ul>
<h3 id="DTS的使用情景"><a href="#DTS的使用情景" class="headerlink" title="DTS的使用情景"></a>DTS的使用情景</h3><p>在开发应用程序时，有时我们会遇到比较棘手的难于解决的问题，如果我们自己无法修复某些错误，或是卡在某个关键技术问题，或有代码级别的问题难以解决时，我们都可以请求DTS服务，当然前提是我们必须确保这些问题是与苹果开发相关的问题，包括IOS app,Mac app, Safari Extension，或MFI配件相关。而且在确定提交请求前最好保证是仔细的查看了相关的技术文档或是在Apple的开发者论坛上发帖进行求助和讨论，分类如下：</p>
<ul>
<li><p><strong>查看技术说明</strong></p>
<p>  查看关于<a href="https://developer.apple.com/library/ios/navigation/#section=Resource%20Types&amp;topic=Technical%20Notes" target="_blank" rel="external">iOS</a>、<a href="https://developer.apple.com/library/mac/navigation/#section=Resource%20Types&amp;topic=Technical%20Notes" target="_blank" rel="external">OS X</a> 和 <a href="https://developer.apple.com/library/safari/navigation/#section=Resource%20Types&amp;topic=Technical%20Notes" target="_blank" rel="external">Safari</a> 的特定技术问题的说明。</p>
</li>
<li><p>查看技术问答</p>
<p>  获取关于 <a href="https://developer.apple.com/library/ios/navigation/#section=Resource%20Types&amp;topic=Technical%20Q%26amp%3BAs" target="_blank" rel="external">iOS</a>、<a href="https://developer.apple.com/library/mac/navigation/#section=Resource%20Types&amp;topic=Technical%20Q%26amp%3BAs" target="_blank" rel="external">OS X</a> 和 <a href="https://developer.apple.com/library/safari/navigation/#section=Resource%20Types&amp;topic=Technical%20Q%26amp%3BAs" target="_blank" rel="external">Safari</a> 常见编码问题的答案。</p>
</li>
<li><p>在Apple Developer Forums发起话题并讨论</p>
<p>  在 <a href="https://developer.apple.com/devforums/" target="_blank" rel="external">Apple Developer Forums</a> 上发布问题，并与其他开发者和 Apple 工程师讨论各种话题。</p>
</li>
</ul>
<h3 id="准备工作和提交原则"><a href="#准备工作和提交原则" class="headerlink" title="准备工作和提交原则"></a>准备工作和提交原则</h3><p><strong>提交请求前期的准备包括:</strong></p>
<ul>
<li>请在 Xcode 中运行 Build 和 Analyze 命令。如有可能，请解决分析程序结果中的待解决问题。</li>
<li>请附上与问题相关的崩溃日志，并在其中加以标记。（您可以从技术说明 2151：<a href="https://developer.apple.com/library/ios/#technotes/tn2151/_index.html" target="_blank" rel="external">理解和分析 iOS app 崩溃报告</a>中了解如何获取并标识崩溃日志。）</li>
<li>在链编及运行 app 过程中，控制台会输出一些含有错误与异常的信息，请将这些内容一并附上。</li>
<li>如有可能，请将问题抽取成一个示例 Xcode 项目。即，对抽取出的类和资源进行组建，使其组成一个示例 Xcode 项目。</li>
<li>若情况合适，请提供明确简练的问题重现步骤。</li>
<li>阅读以下 DTS 提交准则。</li>
</ul>
<p><strong>提交准则包括:</strong></p>
<ol>
<li><p>在提交技术支持申请时，请务必遵循这些准则。</p>
<ul>
<li>每次申请都只提交一个待支持问题（单个具体问题）。</li>
<li>请确保描述尽可能的清晰，包括为解决问题已采取的措施及其他需要考虑的条件（例如，只有在某些特定的硬件        上才会出现问题，或是产品只面向教育市场等）。</li>
</ul>
</li>
<li><p>从开发者技术支持获取跟进编号后，请根据情况按以下条目进行回复。</p>
<ul>
<li>标示出的崩溃日志（针对崩溃/错误）了解更多</li>
<li>App 审核拒绝信（及任何相关附件）（若适用）</li>
<li>屏幕快照（显示错误信息）</li>
<li>示例 Xcode 项目或源代码</li>
<li>控制台输出（包含错误或异常）。</li>
<li>配置/系统概述文件</li>
</ul>
</li>
</ol>
<p>苹果DTS的开发者技术支持工程师的代码级别支持会以英文电子邮件进行提供，并且通常会在<strong>三(3)个工作日</strong>回复申请。</p>
<h3 id="DTS的免费使用次数和失效日期"><a href="#DTS的免费使用次数和失效日期" class="headerlink" title="DTS的免费使用次数和失效日期"></a>DTS的免费使用次数和失效日期</h3><p>苹果的每个会员账户会获得2次免费DTS服务机会，说明如下：</p>
<ul>
<li><p><strong>iOS Developer Program</strong>、<strong>iOS Developer Enterprise Program</strong> 和 <strong>Mac Developer Program</strong></p>
<p>  每个会员帐户年度包含两 (2) 次 服务，可以购买额外的。</p>
</li>
<li><p><strong>Safari Developer Program</strong></p>
<p>  现有 99$ 2次及 249$ 5次两种DTS购买方式。Safari Developer Program 的会员可以从 <a href="https://developer.apple.com/membercenter/index.action#techSupport" target="_blank" rel="external">Member Center</a>下面的“Programs &amp; Add-ons”（程序和附加组件）标签购买 DTS服务。</p>
</li>
<li><p><strong>MFi Program</strong></p>
<p>  每次注册均可获得每个会员帐户年度八 (8) 次 DTS服务。</p>
</li>
</ul>
<p>需要注意的是免费的DTS服务是有失效日期的。这里的失效日期等同于作为苹果开发者的<strong>会员资格</strong>的失效日期。查看<strong>会员资格</strong>的失效日期如下：</p>
<ol>
<li>在苹果<a href="https://developer.apple.com/" target="_blank" rel="external">开发者官网</a>页面的顶部右侧导航中点击<a href="https://developer.apple.com/membercenter/" target="_blank" rel="external">Member Center</a>,登陆到自己的苹果开发者管理界面。<img src="/2013/08/16/Apple-DTS简介/member_center_link.png" alt="member_center_link.png" title="">
</li>
</ol>
<ol>
<li><p>输入Apple ID和密码。</p>
<img src="/2013/08/16/Apple-DTS简介/login.png" alt="login.png" title="">
</li>
<li><p>在管理界面的顶部导航中中点击<strong>Your Account</strong>,进入到账号信息页面。</p>
<img src="/2013/08/16/Apple-DTS简介/account.png" alt="account.png" title="">
</li>
<li><p>在<strong>Account Summary</strong>导航对应的右侧页面中，滚动值<strong>Memberships</strong>区域查看自己账号的失效日期信息,DTS的失效日期等同于账号绑定的会员资格失效日期。</p>
<img src="/2013/08/16/Apple-DTS简介/account_summary.png" alt="account_summary.png" title="">
</li>
</ol>
<h3 id="DTS的购买"><a href="#DTS的购买" class="headerlink" title="DTS的购买"></a>DTS的购买</h3><p>在免费的DTS服务用完之后，之后的服务是需要付费的，购买方式包括两种，</p>
<ul>
<li>同时购买<strong>2</strong>次需要<strong>99$</strong></li>
<li>同时购买<strong>5</strong>次需要<strong>249$</strong></li>
</ul>
<p>可以在Member Center的“Programs &amp; Add-ons”（程序和附加组件）标签购买。截图如下</p>
<ol>
<li><p>登陆开发者账号，在管理界面的左侧面板的右下角<strong>Developer Support</strong>中点击<strong>Technical</strong></p>
<img src="/2013/08/16/Apple-DTS简介/DTSA.png" alt="DTSA.png" title="">
</li>
<li><p>DTS详情页面</p>
<img src="/2013/08/16/Apple-DTS简介/DTS2.png" alt="DTS2.png" title="">
</li>
<li><p>服务的购买和价格页面</p>
<img src="/2013/08/16/Apple-DTS简介/DTS3.png" alt="DTS3.png" title="">
</li>
</ol>
<h3 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h3><ul>
<li><a href="https://developer.apple.com/support/technical/" target="_blank" rel="external">Apple Developer Technical Support</a></li>
<li><a href="https://developer.apple.com/cn/support/technical/" target="_blank" rel="external">开发者技术支持</a></li>
</ul>
<p>需要注意的是在实际的苹果开发者技术支持的文档说明中，上述的一些描述和规则的对象是TSI（Technical Support Incident），个人认为这和DTS是等同的概念，或者DTS是TSI的一个较大的子集，所以在进行叙述时并未作区分。</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://monjer.github.io/2013/08/01/Flash-Builder-设置默认启动的浏览器/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="monjer">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="monjer's note">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2013/08/01/Flash-Builder-设置默认启动的浏览器/" itemprop="url">Flash Builder 设置默认启动的浏览器</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2013-08-01T00:00:00+08:00">
                2013-08-01
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>Flash Builder提供<a href="http://helpx.adobe.com/cn/flash-builder/release-note/flash-builder-4-7-release-notes.html" target="_blank" rel="external">两种安装方式</a>：</p>
<ul>
<li>独立安装方式</li>
<li>作为现有Eclipse插件安装方式</li>
</ul>
<p>我选择第二种安装方式，主要是为了使用Eclipse提供的其它相关的功能，如服务器配置，多类型编辑器选择等等。</p>
<p>在运行和调试Flex程序时，默认打开的是当前系统的默认浏览器。由于个人喜好，我将系统默认的浏览器设置为Chrome,设置方式如下</p>
<ul>
<li><p>打开Chrome，在地址栏中输入<strong>chrome://settings/</strong>命令</p>
  <img src="/2013/08/01/Flash-Builder-设置默认启动的浏览器/1.png" alt="1.png" title="">
</li>
<li><p>打开<strong>“高级选项设置(Show advanced settings…)</strong></p>
  <img src="/2013/08/01/Flash-Builder-设置默认启动的浏览器/2.png" alt="2.png" title="">
</li>
<li><p>找到并点击<strong>“设置Chrome为默认浏览器”</strong>的按钮”</p>
  <img src="/2013/08/01/Flash-Builder-设置默认启动的浏览器/3.png" alt="3.png" title="">
  <img src="/2013/08/01/Flash-Builder-设置默认启动的浏览器/4.png" alt="4.png" title="">
</li>
</ul>
<p>但在正式运行Flex工程时结果打开的浏览器为苹果的<strong>Safari</strong>。所以找到如下设置Flex工程打开的浏览器类型的方法:</p>
<ul>
<li><p>选中Eclipse，在顶部菜单栏中点击<strong>“偏好设置(Preferences)”</strong>菜单项，打开Eclipse的偏好设置面板</p>
  <img src="/2013/08/01/Flash-Builder-设置默认启动的浏览器/5.png" alt="5.png" title="">
</li>
<li><p>选择<strong>“常规”—&gt;”Web浏览器”</strong></p>
  <img src="/2013/08/01/Flash-Builder-设置默认启动的浏览器/6.png" alt="6.png" title="">
</li>
<li><p>在<strong>“Web浏览器”</strong>面板中，点击<strong>“新建”</strong>按钮。在弹出的面板中，依次输入新加入的浏览器的<strong>“名称”</strong>，并添加其<strong>“位置“</strong>。可选性的添加<strong>“参数”</strong>。之后点击<strong>“确定”</strong>，完成新增浏览器的设置。</p>
  <img src="/2013/08/01/Flash-Builder-设置默认启动的浏览器/7.png" alt="7.png" title="">
  <img src="/2013/08/01/Flash-Builder-设置默认启动的浏览器/8.png" alt="8.png" title="">
  <img src="/2013/08/01/Flash-Builder-设置默认启动的浏览器/9.png" alt="9.png" title="">
</li>
<li><p>返回<strong>“Web浏览器”</strong>面板，勾选<strong>Chrome</strong>浏览器。点击<strong>“确定”</strong>完成整个设置过程。</p>
  <img src="/2013/08/01/Flash-Builder-设置默认启动的浏览器/10.png" alt="10.png" title="">
</li>
<li><p>重新启动工程，现在工程成功在<strong>Chrome</strong>中运行起来。</p>
</li>
</ul>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://monjer.github.io/2013/07/01/uiwebview的一些用法/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="monjer">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="monjer's note">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2013/07/01/uiwebview的一些用法/" itemprop="url">uiwebview的一些用法</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2013-07-01T00:00:00+08:00">
                2013-07-01
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="设置背景透明"><a href="#设置背景透明" class="headerlink" title="设置背景透明"></a>设置背景透明</h3><ul>
<li><p>设置webview的 <strong>backgroundColor</strong> 属性为 <strong>[UIColor clearColor]</strong>;</p>
  <figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">webView.backgroundColor = [<span class="built_in">UIColor</span> clearColor];</div></pre></td></tr></table></figure>
</li>
<li><p>为webview中的HTML页面的 <strong>body</strong>标签添加CSS背景样式设置</p>
  <figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">body</span> <span class="attr">style</span>=<span class="string">"background-color: transparent"</span>&gt;</span></div><div class="line">   ...</div><div class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></div></pre></td></tr></table></figure>
</li>
<li><p>设置webview的 <strong>opaque</strong>属性值为 <strong>NO</strong></p>
  <figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">webView.opaque = <span class="literal">NO</span>;</div></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="加载本地HTML页面"><a href="#加载本地HTML页面" class="headerlink" title="加载本地HTML页面"></a>加载本地HTML页面</h3><ul>
<li><p>方式一</p>
  <figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">NSString</span> *localHTMLPageName = <span class="string">@"myPage"</span>;</div><div class="line"><span class="built_in">NSString</span> *path = [[<span class="built_in">NSBundle</span> mainBundle] pathForResource:localHTMLPageName ofType:<span class="string">@"html"</span>];</div><div class="line"><span class="comment">// 从html文件中读取html字符串</span></div><div class="line"><span class="built_in">NSFileHandle</span> *readHandle = [<span class="built_in">NSFileHandle</span> fileHandleForReadingAtPath:path];</div><div class="line"><span class="built_in">NSString</span> *htmlString = [[<span class="built_in">NSString</span> alloc] initWithData:</div><div class="line">                    [readHandle readDataToEndOfFile] encoding:<span class="built_in">NSUTF8StringEncoding</span>];</div><div class="line"><span class="comment">// 或使用</span></div><div class="line"><span class="comment">// NSString *htmlString = [NSString stringWithContentsOfFile:path encoding:NSUTF8StringEncoding error:NULL];</span></div><div class="line"><span class="comment">// baseURL用来确定htmlString的基准地址，</span></div><div class="line"><span class="comment">// 相当于HTML的&lt;base&gt;标签的作用，定义页面中所有链接的默认地址。</span></div><div class="line">[webView loadHTMLString:htmlString baseURL:[[<span class="built_in">NSBundle</span> mainBundle] bundleURL]];</div></pre></td></tr></table></figure>
</li>
<li><p>方式二</p>
  <figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">NSString</span> *localHTMLPageName = <span class="string">@"myPage"</span>;</div><div class="line"><span class="built_in">NSString</span> *localHTMLPageFilePath = [[<span class="built_in">NSBundle</span> mainBundle] pathForResource:localHTMLPageName ofType:<span class="string">@"html"</span>];</div><div class="line"><span class="built_in">NSURL</span> *localHTMLPageFileURL = [<span class="built_in">NSURL</span> fileURLWithPath:localHTMLPageFilePath];</div><div class="line">[webView loadRequest:[<span class="built_in">NSURLRequest</span> requestWithURL:localHTMLPageFileURL]];</div></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="移除滚动后的外边阴影"><a href="#移除滚动后的外边阴影" class="headerlink" title="移除滚动后的外边阴影"></a>移除滚动后的外边阴影</h3><p>UIWebView包含一个scrollView组件，用来将关联web内容实现滚动效果，页面滚动后的UIWebView的面板周围会出现阴影效果，该效果是在四周添加UIImageView实现的，因此移除这种阴影效果的代码如下：</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">UIScrollView</span> *scrollView = webView.scrollView;</div><div class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; scrollView.subviews.count ; i++) &#123;</div><div class="line">    <span class="built_in">UIView</span> *view = [scrollView.subviews objectAtIndex:i];</div><div class="line">    <span class="keyword">if</span> ([view isKindOfClass:[<span class="built_in">UIImageView</span> <span class="keyword">class</span>]]) &#123;</div><div class="line">        view.hidden = <span class="literal">YES</span> ;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="在Safari中打开链接地址"><a href="#在Safari中打开链接地址" class="headerlink" title="在Safari中打开链接地址"></a>在Safari中打开链接地址</h3><p>默认情况下，长按web页面中的链接,系统会自动呼出菜单提供open，copy和cancel选项，但如果要实现触击链接跳转至safari中打开页面该怎么做呢？UIWebViewDelegate协议中，包含</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">- (<span class="built_in">BOOL</span>)webView:(<span class="built_in">UIWebView</span> *)webView shouldStartLoadWithRequest:(<span class="built_in">NSURLRequest</span> *)request navigationType:(<span class="built_in">UIWebViewNavigationType</span>)navigationType</div></pre></td></tr></table></figure>
<p>接口，如果为webView添加了delegate对象并实现该接口，那么在webView加载任何一个frame之前都会delegate对象的该方法，
该方法的返回值用以控制是否允许加载目标链接页面的内容，返回YES将直接加载内容，NO则反之。
并且UIWebViewNavigationType枚举，定义了页面中用户行为的分类，包括</p>
<ul>
<li><code>objcUIWebViewNavigationTypeLinkClicked</code>，用户触击了一个链接。</li>
<li><code>UIWebViewNavigationTypeFormSubmitted</code>，用户提交了一个表单。</li>
<li><code>UIWebViewNavigationTypeBackForward</code>，用户触击前进或返回按钮。</li>
<li><code>UIWebViewNavigationTypeReload</code>，用户触击重新加载的按钮。</li>
<li><code>UIWebViewNavigationTypeFormResubmitted</code>，用户重复提交表单</li>
<li><code>UIWebViewNavigationTypeOther</code>，发生其它行为。</li>
</ul>
<p>因此，实现用户触击UIWebView页面中的链接，并跳至Safari中打开链接页面的步骤如下：</p>
<ul>
<li>定义实现UIWebViewDelegate协议的类MyWebViewDelegate（通常是由包含UIWebView的controller中实现UIWebViewDelegate协议）。</li>
<li><p>按如下方式实现webView:shouldStartLoadWithRequest:navigationType:接口</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">- (<span class="built_in">BOOL</span>)webView:(<span class="built_in">UIWebView</span> _)webView shouldStartLoadWithRequest:(<span class="built_in">NSURLRequest</span> _)request navigationType:(<span class="built_in">UIWebViewNavigationType</span>)navigationType &#123; <span class="keyword">if</span> ( navigationType == <span class="built_in">UIWebViewNavigationTypeLinkClicked</span> ) &#123; \[[<span class="built_in">UIApplication</span> sharedApplication] openURL:[request URL]]; <span class="keyword">return</span> <span class="literal">NO</span>; &#125; <span class="keyword">return</span> <span class="literal">YES</span>; &#125;\`\`\`</div></pre></td></tr></table></figure>
</li>
<li><p>新建MyWebViewDelegate对象，并赋值给webView的delegate属性</p>
</li>
</ul>
<p>参见：<a href="http://stackoverflow.com/questions/2899699/uiwebview-open-links-in-safari/2899793#2899793" target="_blank" rel="external">UIWebView open links in Safari</a></p>
<h3 id="禁用页面滚动弹跳"><a href="#禁用页面滚动弹跳" class="headerlink" title="禁用页面滚动弹跳"></a>禁用页面滚动弹跳</h3><p>之前提到UIWebView使用一个UIScrollView对象来关联web页面的内容，通过UIWebView的scrollView属性即可获得该对象，默认情况下网页长度超出设备视口长度后页面会滚动，用户使用手指滚动页面到页面边距并放开手指后页面会产生一个弹跳效果，去除这个效果的方法如下</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">webView.scrollView.bounces = <span class="literal">NO</span> ;</div></pre></td></tr></table></figure>
<p>参见：<a href="http://stackoverflow.com/questions/500761/stop-uiwebview-from-bouncing-vertically/3324886#3324886" target="_blank" rel="external">Stop UIWebView from “bouncing” vertically?</a></p>
<h3 id="scalesPageToFit属性"><a href="#scalesPageToFit属性" class="headerlink" title="scalesPageToFit属性"></a>scalesPageToFit属性</h3><p>默认情况下UIWebView加载HTML页面后，会以页面的原始大小进行显示，亦即如果页面的大小超出UIWebView视口大小，UIWebView会出现滚动效果，而且用户只能通过滚动页面来查看不同区域的内容，不能使用手指的捏合手势来放大或缩小页面。通过设置</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">webView.scalesPageToFit = <span class="literal">YES</span> ;</div></pre></td></tr></table></figure>
<p>UIWebView可以缩放HTML页面来适配其视口大小，从而达到整屏显示内容的效果，并且用户可以用捏合动作来放大或缩小页面来查看内容。</p>
<h3 id="调用JavaScript代码"><a href="#调用JavaScript代码" class="headerlink" title="调用JavaScript代码"></a>调用JavaScript代码</h3><p>UIWebView提供</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">- (<span class="built_in">NSString</span> *)stringByEvaluatingJavaScriptFromString:(<span class="built_in">NSString</span> *)script</div></pre></td></tr></table></figure>
<p>方法，可以在objective-c代码中调用JavaScript代码，参数script字符串保存了所要执行的js代码字符串，执行结果以字符串形式返回。以获取web页面标题为例，代码如下：</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">NSString</span> *pageTitle = [webView stringByEvaluatingJavaScriptFromString:<span class="string">@"document.title"</span>];</div></pre></td></tr></table></figure>
<p>脚本的代码内容还要依据具体的应用场景。此外，该方法规定执行的脚本时长限定在10s内，为的是防止过长时间的阻塞页面主线程，超过执行时间上线会自动停止脚本运行，并且脚本可分配内存限定在10MB内，超过分配上线将会引发异常。</p>
<h3 id="JavaScript调用native代码"><a href="#JavaScript调用native代码" class="headerlink" title="JavaScript调用native代码"></a>JavaScript调用native代码</h3><p>以上提到，UIWebView加载任何一个页面之前都会调用其代理的</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">- (<span class="built_in">BOOL</span>)webView:(<span class="built_in">UIWebView</span> *)webView shouldStartLoadWithRequest:(<span class="built_in">NSURLRequest</span> *)request</div><div class="line">     navigationType:(<span class="built_in">UIWebViewNavigationType</span>)navigationType</div></pre></td></tr></table></figure>
<p>方法，通过调用参数request对象的URL属性来获取关于本次请求的地址以及参数信息，因此可以通过js代码模拟一次特殊的网络请求来达到调用该代理方法的作用，并通过过滤”特殊的url”来达到有目的性的js代码调用native代码的效果。所谓的”特殊的url”主要的目的是达到一种标识的效果，我们可以规定url的scheme部分，如appscheme://appName?invokeMethodName=objcMethod&amp;paramA=xxx;也可以在常规的url后面附加特殊的参数标识，如<a href="http://www.yoursite.com?objecMethodCallFlag=1&amp;methodName=methodA&amp;paramA=xxx。之后根据规定在代理方法中去相应的解析url并做出if" target="_blank" rel="external">http://www.yoursite.com?objecMethodCallFlag=1&amp;methodName=methodA&amp;paramA=xxx。之后根据规定在代理方法中去相应的解析url并做出if</a> else判断即可。常见的调用方式是动态添加一个隐藏的iframe标签到HTML页面，如下：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// js</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">invokeObjc</span>(<span class="params">url</span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> iframe;</div><div class="line">    iframe = <span class="built_in">document</span>.createElement(<span class="string">"iframe"</span>);</div><div class="line">    iframe.setAttribute(<span class="string">"src"</span>, url);</div><div class="line">    iframe.setAttribute(<span class="string">"style"</span>, <span class="string">"display:none;"</span>);</div><div class="line">    <span class="built_in">document</span>.body.appendChild(iframe);</div><div class="line">    iframe.parentNode.removeChild(iframe);</div><div class="line">&#125;</div><div class="line"><span class="keyword">var</span> url = <span class="string">"appscheme://appName?invokeMethodName=objcMethod&amp;paramA=xxx"</span>;</div><div class="line">invokeObjc(url);</div></pre></td></tr></table></figure>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// objc</span></div><div class="line"> - (<span class="built_in">BOOL</span>)webView:(<span class="built_in">UIWebView</span> *)webView shouldStartLoadWithRequest:(<span class="built_in">NSURLRequest</span> *)request navigationType:(<span class="built_in">UIWebViewNavigationType</span>)navigationType ｛</div><div class="line"></div><div class="line">    <span class="keyword">static</span> <span class="built_in">NSString</span> *callScheme = <span class="string">@"appscheme"</span>;</div><div class="line">    <span class="keyword">static</span> <span class="built_in">NSString</span> *invokeMethodName = <span class="string">@"invokeMethodName"</span>;</div><div class="line">    <span class="built_in">NSString</span> *scheme = request.URL.scheme ;</div><div class="line"></div><div class="line">    <span class="keyword">if</span> ([callScheme isEqualToString:scheme]) &#123;</div><div class="line"></div><div class="line">        <span class="built_in">NSString</span> *query = request.URL.query ;</div><div class="line">        <span class="built_in">NSArray</span> *arr = [query componentsSeparatedByString:<span class="string">@"&amp;"</span>];</div><div class="line">        __block <span class="built_in">NSString</span> *methodName = <span class="string">@""</span> ;</div><div class="line">        <span class="built_in">NSMutableDictionary</span> *params = [<span class="built_in">NSMutableDictionary</span> new];</div><div class="line"></div><div class="line">        <span class="comment">// 未考虑参数的解码操作</span></div><div class="line">        [arr enumerateObjectsUsingBlock:^(<span class="keyword">id</span> obj, <span class="built_in">NSUInteger</span> idx, <span class="built_in">BOOL</span> *stop) &#123;</div><div class="line">                <span class="built_in">NSArray</span> *kv =[obj componentsSeparatedByString:<span class="string">@"="</span>];</div><div class="line">                <span class="keyword">if</span> (kv) &#123;</div><div class="line">                    <span class="keyword">if</span> ([invokeMethodName isEqualToString: kv[<span class="number">0</span>]]) &#123;</div><div class="line">                        methodName = kv[<span class="number">1</span>];</div><div class="line">                    &#125;<span class="keyword">else</span>&#123;</div><div class="line">                        [params setObject:kv[<span class="number">1</span>] forKey:kv[<span class="number">0</span>]];</div><div class="line">                    &#125;</div><div class="line">            &#125;</div><div class="line">        &#125;];</div><div class="line">        <span class="comment">// 获得方法名和参数之后，可以添加逻辑判断</span></div><div class="line">        <span class="built_in">NSLog</span>(<span class="string">@"%@"</span>,methodName);</div><div class="line">        <span class="built_in">NSLog</span>(<span class="string">@"%@"</span>,params);</div><div class="line"></div><div class="line">        <span class="keyword">return</span> <span class="literal">NO</span> ;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> <span class="literal">YES</span> ;</div><div class="line">｝</div></pre></td></tr></table></figure>
<p>前面提到的native代码调用js代码的实现方式，结合两种实现方式即完成了js与native代码间的简单的通信操作。</p>
<h3 id="让UIWebView更加接近native"><a href="#让UIWebView更加接近native" class="headerlink" title="让UIWebView更加接近native"></a>让UIWebView更加接近native</h3><p>某些情况下，我们既想要UIWebView加载web页面，又想使得所加载的页面的外观和操作行为更加接近native感觉。
这时需要使用一些CSS样式来达到这些效果，这些CSS只适用于IOS中的Safari。</p>
<ul>
<li>-webkit-touch-callout`</li>
</ul>
<p>禁用长按触控对象弹出的菜单。IOS中，当你长按一个触控对象时，如链接，safari会弹出包含链接信息的菜单。禁用此行为CSS代码</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="selector-class">.disable-callout</span>&#123;</div><div class="line">    <span class="attribute">-webkit-touch-callout</span>:none ;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>或在webViewDidFinisheLoad中使用</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">[webView stringByEvaluatingJavaScriptFromString:<span class="string">@"document.documentElement.style.webkitTouchCallout='none';"</span>];</div></pre></td></tr></table></figure>
<ul>
<li><code>-webkit-user-select</code></li>
</ul>
<p>控制用户是否可以选择页面元素内容。IOS中，在页面元素中进行长按操作，safari会弹出菜单，来允许进行选择行为。禁用此行为代码</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="selector-class">.disable-select</span>&#123;</div><div class="line">    <span class="attribute">-webkit-user-select</span>:none;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>或在webViewDidFinisheLoad中使用</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">[webView stringByEvaluatingJavaScriptFromString:<span class="string">@"document.documentElement.style.webkitUserSelect='none';"</span>];</div></pre></td></tr></table></figure>
<ul>
<li><code>-webkit-tap-highlight-color</code></li>
</ul>
<p>覆盖当用户tap链接或clickable元素时默认产生的高亮颜色（灰色）。如</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="selector-class">.no-highlight</span>&#123;</div><div class="line">    <span class="attribute">-webkit-tap-highlight-color</span>:<span class="built_in">rgba</span>(0,0,0,0);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h3><ul>
<li><a href="https://developer.apple.com/library/safari/#documentation/AppleApplications/Reference/SafariCSSRef/Articles/StandardCSSProperties.html#/apple_ref/doc/uid/TP30001266-SW1" target="_blank" rel="external">Apple CSS Reference</a></li>
<li><a href="http://stackoverflow.com/questions/1074320/remove-uiwebview-shadow" target="_blank" rel="external">Remove UIWebView Shadow?</a></li>
</ul>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://monjer.github.io/2013/03/15/Windows下MySQL选项文件的读取顺序/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="monjer">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="monjer's note">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2013/03/15/Windows下MySQL选项文件的读取顺序/" itemprop="url">Windows下MySQL选项文件的读取顺序</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2013-03-15T00:00:00+08:00">
                2013-03-15
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>Windows中，MySQL按下表中罗列的的顺序依次读取选项文件：</p>
<table border="1">
    <thead><tr><th scope="col">文件名</th><th scope="col">作用</th></tr></thead><tbody><tr><td scope="row"><code class="filename"><code class="literal">%PROGRAMDATA%</code>\MySQL\MySQL Server
                5.6\my.ini</code>,
                <code class="filename">
                    <code class="literal">%PROGRAMDATA%</code>\MySQL\MySQL
                Server 5.6\my.cnf</code></td><td>全局选项</td></tr><tr><td scope="row"><code class="filename"><code class="literal">%WINDIR%</code>\my.ini</code>,
                <code class="filename"><code class="literal">%WINDIR%</code>\my.cnf</code></td><td>全局选项</td></tr><tr><td scope="row"><code class="filename">C:\my.ini</code>, <code class="filename">C:\my.cnf</code></td><td>全局选项</td></tr><tr><td scope="row"><code class="filename"><em class="replaceable"><code>INSTALLDIR</code></em>\my.ini</code>,
                <code class="filename"><em class="replaceable"><code>INSTALLDIR</code></em>\my.cnf</code></td><td>全局选项</td></tr><tr><td scope="row"><code class="literal">defaults-extra-file</code>
            </td><td>
                <a class="link" href="option-file-options.html#option_general_defaults-extra-file"><code class="option">–defaults-extra-file=<em class="replaceable"><code>path</code></em></code></a>,
选项指定的文件</td></tr><tr><td scope="row"><code class="filename"><code class="literal">%APPDATA%</code>\MySQL.mylogin.cnf</code></td><td>登陆路径选项</td></tr></tbody></table>

<ul>
<li><p><code>%PROGRAMDATA%</code>代表的是主机上存储所有用户应用程序数据的系统目录，在Window Vista或更高版本的系统中，此路径默认为<code>C:\ProgramData</code>,在老版本的Windows系统中，该变量指向的是<code>C:\Documents and Settings\All Users\Application Data</code>。</p>
</li>
<li><p><code>INSTALLDIR</code>代表MySQL的安装目录，通常指的是<code>C:\PROGRAMDIR\MySQL\MySQL 5.6 Server</code>,此处<code>PROGRAMDIR</code>代表的是windows的程序目录，通常指的是<code>Program Files</code>目录。</p>
</li>
<li><p><code>%APPDATA%</code>代表的是Windows应用程序的数据目录，</p>
</li>
<li><p><code>%WINDIR%</code>代表Windows系统目录,通常指的是<code>C:\WINDOWS</code>。</p>
</li>
</ul>
<p>以上的系统变量都可以<code>echo</code>命令，并通过命令行查看，如</p>
<pre><code>C:\&gt; echo %WINDIR%
</code></pre><p>或
    C:> echo %APPDATA%</p>
<h3 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h3><ul>
<li><p><a href="http://dev.mysql.com/doc/refman/5.6/en/option-files.html" target="_blank" rel="external">Using Option Files</a></p>
<blockquote>
<p><strong>来自于MySQL 5.6 version的记录</strong></p>
</blockquote>
</li>
</ul>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/13/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/13/">13</a><span class="page-number current">14</span>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel sidebar-panel-active">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/avatar.gif"
               alt="monjer" />
          <p class="site-author-name" itemprop="name">monjer</p>
           
              <p class="site-description motion-element" itemprop="description"></p>
          
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/archives">
                <span class="site-state-item-count">136</span>
                <span class="site-state-item-name">日志</span>
              </a>
            </div>
          

          

          
            
            
            <div class="site-state-item site-state-tags">
              <a href="/tags/index.html">
                <span class="site-state-item-count">84</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        
          <div class="feed-link motion-element">
            <a href="/atom.xml" rel="alternate">
              <i class="fa fa-rss"></i>
              RSS
            </a>
          </div>
        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

        


      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">monjer</span>
</div>


<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Muse
  </a>
</div>


        

        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.1"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.1"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.1"></script>



  


  




	





  





  





  






  





  

  

  

  

  


</body>
</html>
